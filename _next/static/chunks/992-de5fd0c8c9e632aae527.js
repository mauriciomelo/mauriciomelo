(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{7154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},1314:function(e,t,n){"use strict";n.d(t,{eC:function(){return h},iG:function(){return l},Ld:function(){return b},ys:function(){return s},sb:function(){return g},He:function(){return u},f3:function(){return a}});var r=n(4813),i=n(7294);const o=Symbol.for("Animated:node"),s=e=>e&&e[o],a=(e,t)=>(0,r.dE)(e,o,t),u=e=>e&&e[o]&&e[o].getPayload();class c{constructor(){this.payload=void 0,a(this,this)}getPayload(){return this.payload||[]}}class l extends c{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,r.is.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new l(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return r.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,r.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class h extends l{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=(0,r.mD)({output:[e,e]})}static create(e){return new h(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(r.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=(0,r.mD)({output:[this.getValue(),e]})),this._value=0,super.reset()}}const d={dependencies:null};class p extends c{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return(0,r.rU)(this.source,((n,i)=>{var s;(s=n)&&s[o]===s?t[i]=n.getValue(e):(0,r.j$)(n)?t[i]=(0,r.je)(n):e||(t[i]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&(0,r.S6)(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return(0,r.rU)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){d.dependencies&&(0,r.j$)(e)&&d.dependencies.add(e);const t=u(e);t&&(0,r.S6)(t,(e=>this.add(e)))}}class f extends p{constructor(e){super(e)}static create(e){return new f(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(m)),!0)}}function m(e){return((0,r.Df)(e)?h:l).create(e)}function g(e){const t=s(e);return t?t.constructor:r.is.arr(e)?f:(0,r.Df)(e)?h:l}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const v=(e,t)=>{const n=!r.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,i.forwardRef)(((o,s)=>{const a=(0,i.useRef)(null),u=n&&(0,i.useCallback)((e=>{a.current=function(e,t){e&&(r.is.fun(e)?e(t):e.current=t);return t}(s,e)}),[s]),[c,l]=function(e,t){const n=new Set;d.dependencies=n,e.style&&(e=y({},e,{style:t.createAnimatedStyle(e.style)}));return e=new p(e),d.dependencies=null,[e,n]}(o,t),h=(0,r.NW)(),f=()=>{const e=a.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&h()},m=new w(f,l),g=(0,i.useRef)();(0,r.bt)((()=>{const e=g.current;g.current=m,(0,r.S6)(l,(e=>(0,r.UI)(e,m))),e&&((0,r.S6)(e.deps,(t=>(0,r.iL)(t,e))),r.Wn.cancel(e.update))})),(0,i.useEffect)(f,[]),(0,r.tf)((()=>()=>{const e=g.current;(0,r.S6)(e.deps,(t=>(0,r.iL)(t,e)))}));const v=t.getComponentProps(c.getValue());return i.createElement(e,y({},v,{ref:u}))}))};class w{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&r.Wn.write(this.update)}}const _=Symbol.for("AnimatedComponent"),b=(e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new p(e)),getComponentProps:i=(e=>e)}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},s=e=>{const t=E(e)||"Anonymous";return(e=r.is.str(e)?s[e]||(s[e]=v(e,o)):e[_]||(e[_]=v(e,o))).displayName=`Animated(${t})`,e};return(0,r.rU)(e,((t,n)=>{r.is.arr(e)&&(n=E(t)),s[n]=s(t)})),{animated:s}},E=e=>r.is.str(e)?e:e&&r.is.str(e.displayName)?e.displayName:r.is.fun(e)&&e.name||null},4928:function(e,t,n){"use strict";n.d(t,{OH:function(){return r.OH},q_:function(){return ye}});var r=n(4813),i=n(7294),o=n(1314);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,...t){return r.is.fun(e)?e(...t):e}const u=(e,t)=>!0===e||!!(t&&e&&(r.is.fun(e)?e(t):(0,r.qo)(e).includes(t))),c=(e,t)=>r.is.obj(e)?t&&e[t]:e,l=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,h=e=>e,d=(e,t=h)=>{let n=p;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const i={};for(const o of n){const n=t(e[o],o);r.is.und(n)||(i[o]=n)}return i},p=["config","onProps","onStart","onChange","onPause","onResume","onRest"],f={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function m(e){const t=function(e){const t={};let n=0;if((0,r.rU)(e,((e,r)=>{f[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return(0,r.rU)(e,((e,r)=>r in t||(n[r]=e))),n}return s({},e)}function g(e){return e=(0,r.je)(e),r.is.arr(e)?e.map(g):(0,r.Df)(e)?r.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function y(e){for(const t in e)return!0;return!1}function v(e){return r.is.fun(e)||r.is.arr(e)&&r.is.obj(e[0])}function w(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function _(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const b=s({},{tension:170,friction:26},{mass:1,damping:1,easing:e=>e,clamp:!1});class E{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,b)}}function I(e,t){if(r.is.und(t.decay)){const n=!r.is.und(t.tension)||!r.is.und(t.friction);!n&&r.is.und(t.frequency)&&r.is.und(t.damping)&&r.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const x=[];class T{constructor(){this.changed=!1,this.values=x,this.toValues=null,this.fromValues=x,this.to=void 0,this.from=void 0,this.config=new E,this.immediate=!1}}function P(e,{key:t,props:n,defaultProps:i,state:o,actions:c}){return new Promise(((l,h)=>{var d;let p,f,m=u(null!=(d=n.cancel)?d:null==i?void 0:i.cancel,t);if(m)v();else{r.is.und(n.pause)||(o.paused=u(n.pause,t));let e=null==i?void 0:i.pause;!0!==e&&(e=o.paused||u(e,t)),p=a(n.delay||0,t),e?(o.resumeQueue.add(y),c.pause()):(c.resume(),y())}function g(){o.resumeQueue.add(y),o.timeouts.delete(f),f.cancel(),p=f.time-r.Wn.now()}function y(){p>0?(f=r.Wn.setTimeout(v,p),o.pauseQueue.add(g),o.timeouts.add(f)):v()}function v(){o.pauseQueue.delete(g),o.timeouts.delete(f),e<=(o.cancelId||0)&&(m=!0);try{c.start(s({},n,{callId:e,cancel:m}),l)}catch(t){h(t)}}}))}const O=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?S(e.get()):t.every((e=>e.noop))?N(e.get()):A(e.get(),t.every((e=>e.finished))),N=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),A=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),S=e=>({value:e,cancelled:!0,finished:!1});function L(e,t,n,i){const{callId:o,parentId:a,onRest:u}=t,{asyncTo:c,promise:l}=n;return a||e!==c||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const h=d(t,((e,t)=>"onRest"===t?void 0:e));let p,f;const m=new Promise(((e,t)=>(p=e,f=t))),g=e=>{const t=o<=(n.cancelId||0)&&S(i)||o!==n.asyncId&&A(i,!1);if(t)throw e.result=t,f(e),e},y=(e,t)=>{const a=new R,u=new k;return(async()=>{if(r.OH.skipAnimation)throw C(n),u.result=A(i,!1),f(u),u;g(a);const c=r.is.obj(e)?s({},e):s({},t,{to:e});c.parentId=o,(0,r.rU)(h,((e,t)=>{r.is.und(c[t])&&(c[t]=e)}));const l=await i.start(c);return g(a),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let v;if(r.OH.skipAnimation)return C(n),A(i,!1);try{let t;t=r.is.arr(e)?(async e=>{for(const t of e)await y(t)})(e):Promise.resolve(e(y,i.stop.bind(i))),await Promise.all([t.then(p),m]),v=A(i.get(),!0,!1)}catch(w){if(w instanceof R)v=w.result;else{if(!(w instanceof k))throw w;v=w.result}}finally{o==n.asyncId&&(n.asyncId=a,n.asyncTo=a?c:void 0,n.promise=a?l:void 0)}return r.is.fun(u)&&r.Wn.batchedUpdates((()=>{u(v,i,i.item)})),v})():l}function C(e,t){(0,r.yl)(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class R extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class k extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const D=e=>e instanceof F;let M=1;class F extends r.B0{constructor(...e){super(...e),this.id=M++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=(0,o.ys)(this);return e&&e.getValue()}to(...e){return r.OH.to(this,e)}interpolate(...e){return(0,r.LW)(),r.OH.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){(0,r.k0)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||r.fT.sort(this),(0,r.k0)(this,{type:"priority",parent:this,priority:e})}}const j=Symbol.for("SpringPhase"),U=e=>(1&e[j])>0,G=e=>(2&e[j])>0,B=e=>(4&e[j])>0,V=(e,t)=>t?e[j]|=3:e[j]&=-3,W=(e,t)=>t?e[j]|=4:e[j]&=-5;class z extends F{constructor(e,t){if(super(),this.key=void 0,this.animation=new T,this.queue=void 0,this.defaultProps={},this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!r.is.und(e)||!r.is.und(t)){const n=r.is.obj(e)?s({},e):s({},t,{from:e});r.is.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(G(this)||this._state.asyncTo)||B(this)}get goal(){return(0,r.je)(this.animation.to)}get velocity(){const e=(0,o.ys)(this);return e instanceof o.iG?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return U(this)}get isAnimating(){return G(this)}get isPaused(){return B(this)}advance(e){let t=!0,n=!1;const i=this.animation;let{config:s,toValues:a}=i;const u=(0,o.He)(i.to);!u&&(0,r.j$)(i.to)&&(a=(0,r.qo)((0,r.je)(i.to))),i.values.forEach(((c,l)=>{if(c.done)return;const h=c.constructor==o.eC?1:u?u[l].lastPosition:a[l];let d=i.immediate,p=h;if(!d){if(p=c.lastPosition,s.tension<=0)return void(c.done=!0);let t=c.elapsedTime+=e;const n=i.fromValues[l],o=null!=c.v0?c.v0:c.v0=r.is.arr(s.velocity)?s.velocity[l]:s.velocity;let a;if(r.is.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);p=n+o/(1-e)*(1-r),d=Math.abs(c.lastPosition-p)<.1,a=o*r}else{a=null==c.lastVelocity?o:c.lastVelocity;const t=s.precision||(n==h?.005:Math.min(1,.001*Math.abs(h-n))),i=s.restVelocity||t/10,u=s.clamp?0:s.bounce,l=!r.is.und(u),f=n==h?c.v0>0:n<h;let m,g=!1;const y=1,v=Math.ceil(e/y);for(let e=0;e<v&&(m=Math.abs(a)>i,m||(d=Math.abs(h-p)<=t,!d));++e){l&&(g=p==h||p>h==f,g&&(a=-a*u,p=h));a+=(1e-6*-s.tension*(p-h)+.001*-s.friction*a)/s.mass*y,p+=a*y}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,t=c.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,c.durationProgress=r),p=n+s.easing(r)*(h-n),a=(p-c.lastPosition)/e,d=1==r}c.lastVelocity=a,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),d=!0)}u&&!u[l].done&&(d=!1),d?c.done=!0:t=!1,c.setValue(p,s.round)&&(n=!0)}));const c=(0,o.ys)(this),l=c.getValue();if(t){const e=(0,r.je)(i.to);l===e&&!n||s.decay?n&&s.decay&&this._onChange(l):(c.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return r.Wn.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(G(this)){const{to:e,config:t}=this.animation;r.Wn.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return r.is.und(e)?(n=this.queue||[],this.queue=[]):n=[r.is.obj(e)?e:s({},t,{to:e})],Promise.all(n.map((e=>this._update(e)))).then((e=>O(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),C(this._state,e&&this._lastCallId),r.Wn.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:i}=e;n=r.is.obj(n)?n[t]:n,(null==n||v(n))&&(n=void 0),i=r.is.obj(i)?i[t]:i,null==i&&(i=void 0);const s={to:n,from:i};return U(this)||(e.reverse&&([n,i]=[i,n]),i=(0,r.je)(i),r.is.und(i)?(0,o.ys)(this)||this._set(n):this._set(i)),s}_update(e,t){let n=s({},e);const{key:i,defaultProps:o}=this;n.default&&Object.assign(o,d(n,((e,t)=>/^on/.test(t)?c(e,i):e))),Q(this,n,"onProps"),Z(this,"onProps",n,this);const a=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return P(++this._lastCallId,{key:i,props:n,defaultProps:o,state:u,actions:{pause:()=>{B(this)||(W(this,!0),(0,r.bl)(u.pauseQueue),Z(this,"onPause",A(this,H(this,this.animation.to)),this))},resume:()=>{B(this)&&(W(this,!1),G(this)&&this._resume(),(0,r.bl)(u.resumeQueue),Z(this,"onResume",A(this,H(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=X(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(S(this));const i=!r.is.und(e.to),c=!r.is.und(e.from);if(i||c){if(!(t.callId>this._lastToId))return n(S(this));this._lastToId=t.callId}const{key:l,defaultProps:h,animation:d}=this,{to:p,from:f}=d;let{to:m=p,from:y=f}=e;!c||i||t.default&&!r.is.und(m)||(m=y),t.reverse&&([m,y]=[y,m]);const w=!(0,r.Xy)(y,f);w&&(d.from=y),y=(0,r.je)(y);const _=!(0,r.Xy)(m,p);_&&this._focus(m);const E=v(t.to),{config:x}=d,{decay:T,velocity:P}=x;(i||c)&&(x.velocity=0),t.config&&!E&&function(e,t,n){n&&(I(n=s({},n),t),t=s({},n,t)),I(e,t),Object.assign(e,t);for(const r in b)null==e[r]&&(e[r]=b[r]);let{mass:i,frequency:o,damping:a}=e;r.is.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*i,e.friction=4*Math.PI*a*i/o)}(x,a(t.config,l),t.config!==h.config?a(h.config,l):void 0);let O=(0,o.ys)(this);if(!O||r.is.und(m))return n(A(this,!0));const C=r.is.und(t.reset)?c&&!t.default:!r.is.und(y)&&u(t.reset,l),R=C?y:this.get(),k=g(m),D=r.is.num(k)||r.is.arr(k)||(0,r.Df)(k),M=!E&&(!D||u(h.immediate||t.immediate,l));if(_){const e=(0,o.sb)(m);if(e!==O.constructor){if(!M)throw Error(`Cannot animate between ${O.constructor.name} and ${e.name}, as the "to" prop suggests`);O=this._set(k)}}const F=O.constructor;let j=(0,r.j$)(m),B=!1;if(!j){const e=C||!U(this)&&w;(_||e)&&(B=(0,r.Xy)(g(R),k),j=!B),((0,r.Xy)(d.immediate,M)||M)&&(0,r.Xy)(x.decay,T)&&(0,r.Xy)(x.velocity,P)||(j=!0)}if(B&&G(this)&&(d.changed&&!C?j=!0:j||this._stop(p)),!E&&((j||(0,r.j$)(p))&&(d.values=O.getPayload(),d.toValues=(0,r.j$)(m)?null:F==o.eC?[1]:(0,r.qo)(k)),d.immediate!=M&&(d.immediate=M,M||C||this._set(p)),j)){const{onRest:e}=d;(0,r.S6)(Y,(e=>Q(this,t,e)));const i=A(this,H(this,p));(0,r.bl)(this._pendingCalls,i),this._pendingCalls.add(n),d.changed&&r.Wn.batchedUpdates((()=>{d.changed=!C,null==e||e(i,this),C?a(h.onRest,i):null==d.onStart||d.onStart(i,this)}))}C&&this._set(R),E?n(L(t.to,t,this._state,this)):j?this._start():G(this)&&!_?this._pendingCalls.add(n):n(N(R))}_focus(e){const t=this.animation;e!==t.to&&((0,r.Ll)(this)&&this._detach(),t.to=e,(0,r.Ll)(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;(0,r.j$)(t)&&((0,r.UI)(t,this),D(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;(0,r.j$)(e)&&(0,r.iL)(e,this)}_set(e,t=!0){const n=(0,r.je)(e);if(!r.is.und(n)){const e=(0,o.ys)(this);if(!e||!(0,r.Xy)(n,e.getValue())){const i=(0,o.sb)(n);e&&e.constructor==i?e.setValue(n):(0,o.f3)(this,i.create(n)),e&&r.Wn.batchedUpdates((()=>{this._onChange(n,t)}))}}return(0,o.ys)(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Z(this,"onStart",A(this,H(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),a(this.animation.onChange,e,this)),a(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;(0,o.ys)(this).reset((0,r.je)(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),G(this)||(V(this,!0),B(this)||this._resume())}_resume(){r.OH.skipAnimation?this.finish():r.fT.start(this)}_stop(e,t){if(G(this)){V(this,!1);const n=this.animation;(0,r.S6)(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,r.k0)(this,{type:"idle",parent:this});const i=t?S(this.get()):A(this.get(),H(this,null!=e?e:n.to));(0,r.bl)(this._pendingCalls,i),n.changed&&(n.changed=!1,Z(this,"onRest",i,this))}}}function H(e,t){const n=g(t),i=g(e.get());return(0,r.Xy)(i,n)}function X(e,t=e.loop,n=e.to){let r=a(t);if(r){const i=!0!==r&&m(r),o=(i||e).reverse,a=!i||i.reset;return J(s({},e,{loop:t,default:!1,pause:void 0,to:!o||v(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function J(e){const{to:t,from:n}=e=m(e),i=new Set;return r.is.obj(t)&&$(t,i),r.is.obj(n)&&$(n,i),e.keys=i.size?Array.from(i):null,e}function q(e){const t=J(e);return r.is.und(t.default)&&(t.default=d(t)),t}function $(e,t){(0,r.rU)(e,((e,n)=>null!=e&&t.add(n)))}const Y=["onStart","onRest","onChange","onPause","onResume"];function Q(e,t,n){e.animation[n]=t[n]!==l(t,n)?c(t[n],e.key):void 0}function Z(e,t,...n){var r,i,o,s;null==(r=(i=e.animation)[t])||r.call(i,...n),null==(o=(s=e.defaultProps)[t])||o.call(s,...n)}const K=["onStart","onChange","onRest"];let ee=1;class te{constructor(e,t){this.id=ee++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(s({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];r.is.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(J(e)),this}start(e){let{queue:t}=this;return e?t=(0,r.qo)(e).map(J):this.queue=[],this._flush?this._flush(this,t):(ue(this,t),ne(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;(0,r.S6)((0,r.qo)(t),(t=>n[t].stop(!!e)))}else C(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(r.is.und(e))this.start({pause:!0});else{const t=this.springs;(0,r.S6)((0,r.qo)(e),(e=>t[e].pause()))}return this}resume(e){if(r.is.und(e))this.start({pause:!1});else{const t=this.springs;(0,r.S6)((0,r.qo)(e),(e=>t[e].resume()))}return this}each(e){(0,r.rU)(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,i=this._active.size>0,o=this._changed.size>0;(i&&!this._started||o&&!this._started)&&(this._started=!0,(0,r.yl)(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const s=!i&&this._started,a=o||s&&n.size?this.get():null;o&&t.size&&(0,r.yl)(t,(([e,t])=>{t.value=a,e(t,this,this._item)})),s&&(this._started=!1,(0,r.yl)(n,(([e,t])=>{t.value=a,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}r.Wn.onFrame(this._onFrame)}}function ne(e,t){return Promise.all(t.map((t=>re(e,t)))).then((t=>O(e,t)))}async function re(e,t,n){const{keys:i,to:o,from:s,loop:a,onRest:u,onResolve:c}=t,h=r.is.obj(t.default)&&t.default;a&&(t.loop=!1),!1===o&&(t.to=null),!1===s&&(t.from=null);const d=r.is.arr(o)||r.is.fun(o)?o:void 0;d?(t.to=void 0,t.onRest=void 0,h&&(h.onRest=void 0)):(0,r.S6)(K,(n=>{const i=t[n];if(r.is.fun(i)){const r=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=r.get(i);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):r.set(i,{value:null,finished:e||!1,cancelled:t||!1})},h&&(h[n]=t[n])}}));const p=e._state;t.pause===!p.paused?(p.paused=t.pause,(0,r.bl)(t.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(t.pause=!0);const f=(i||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),m=!0===t.cancel||!0===l(t,"cancel");(d||m&&p.asyncId)&&f.push(P(++e._lastAsyncId,{props:t,state:p,actions:{pause:r.ZT,resume:r.ZT,start(t,n){m?(C(p,e._lastAsyncId),n(S(e))):(t.onRest=u,n(L(d,t,p,e)))}}})),p.paused&&await new Promise((e=>{p.resumeQueue.add(e)}));const g=O(e,await Promise.all(f));if(a&&g.finished&&(!n||!g.noop)){const n=X(t,a,o);if(n)return ue(e,[n]),re(e,n,!0)}return c&&r.Wn.batchedUpdates((()=>c(g,e,e.item))),g}function ie(e,t){const n=s({},e.springs);return t&&(0,r.S6)((0,r.qo)(t),(e=>{r.is.und(e.keys)&&(e=J(e)),r.is.obj(e.to)||(e=s({},e,{to:void 0})),ae(n,e,(e=>se(e)))})),oe(e,n),n}function oe(e,t){(0,r.rU)(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,(0,r.UI)(t,e))}))}function se(e,t){const n=new z;return n.key=e,t&&(0,r.UI)(n,t),n}function ae(e,t,n){t.keys&&(0,r.S6)(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function ue(e,t){(0,r.S6)(t,(t=>{ae(e.springs,t,(t=>se(t,e)))}))}function ce(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const le=["children"],he=e=>{let{children:t}=e,n=ce(e,le);const o=(0,i.useContext)(de),s=n.pause||!!o.pause,a=n.immediate||!!o.immediate;n=(0,r.Pr)((()=>({pause:s,immediate:a})),[s,a]);const{Provider:u}=de;return i.createElement(u,{value:n},t)},de=(pe=he,fe={},Object.assign(pe,i.createContext(fe)),pe.Provider._context=pe,pe.Consumer._context=pe,pe);var pe,fe;he.Provider=de.Provider,he.Consumer=de.Consumer;const me=()=>{const e=[],t=function(t){(0,r.ZR)();const i=[];return(0,r.S6)(e,((e,o)=>{if(r.is.und(t))i.push(e.start());else{const r=n(t,e,o);r&&i.push(e.start(r))}})),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return(0,r.S6)(e,(e=>e.pause(...arguments))),this},t.resume=function(){return(0,r.S6)(e,(e=>e.resume(...arguments))),this},t.set=function(t){(0,r.S6)(e,(e=>e.set(t)))},t.start=function(t){const n=[];return(0,r.S6)(e,((e,i)=>{if(r.is.und(t))n.push(e.start());else{const r=this._getProps(t,e,i);r&&n.push(e.start(r))}})),n},t.stop=function(){return(0,r.S6)(e,(e=>e.stop(...arguments))),this},t.update=function(t){return(0,r.S6)(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return r.is.fun(e)?e(n,t):e};return t._getProps=n,t};function ge(e,t,n){const o=r.is.fun(t)&&t;o&&!n&&(n=[]);const a=(0,i.useMemo)((()=>o||3==arguments.length?me():void 0),[]),u=(0,i.useRef)(0),c=(0,r.NW)(),l=(0,i.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=ie(e,t);return u.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?ne(e,t):new Promise((r=>{oe(e,n),l.queue.push((()=>{r(ne(e,t))})),c()}))}})),[]),h=(0,i.useRef)([...l.ctrls]),d=[],p=(0,r.zH)(e)||0,f=h.current.slice(e,p);function m(e,n){for(let r=e;r<n;r++){const e=h.current[r]||(h.current[r]=new te(null,l.flush)),n=o?o(r,e):t[r];n&&(d[r]=q(n))}}(0,i.useMemo)((()=>{h.current.length=e,m(p,e)}),[e]),(0,i.useMemo)((()=>{m(0,Math.min(p,e))}),n);const g=h.current.map(((e,t)=>ie(e,d[t]))),v=(0,i.useContext)(he),b=(0,r.zH)(v),E=v!==b&&y(v);(0,r.bt)((()=>{u.current++,l.ctrls=h.current;const{queue:e}=l;e.length&&(l.queue=[],(0,r.S6)(e,(e=>e()))),(0,r.S6)(f,(e=>{w(e,a),e.stop(!0)})),(0,r.S6)(h.current,((e,t)=>{null==a||a.add(e),E&&e.start({default:v});const n=d[t];n&&(_(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),(0,r.tf)((()=>()=>{(0,r.S6)(l.ctrls,(e=>e.stop(!0)))}));const I=g.map((e=>s({},e)));return a?[I,a]:I}function ye(e,t){const n=r.is.fun(e),[[i],o]=ge(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[i,o]:i}let ve;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(ve||(ve={}));class we extends F{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=(0,r.mD)(...t);const n=this._get(),i=(0,o.sb)(n);(0,o.f3)(this,i.create(n))}advance(e){const t=this._get(),n=this.get();(0,r.Xy)(t,n)||((0,o.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&be(this._active)&&Ee(this)}_get(){const e=r.is.arr(this.source)?this.source.map(r.je):(0,r.qo)((0,r.je)(this.source));return this.calc(...e)}_start(){this.idle&&!be(this._active)&&(this.idle=!1,(0,r.S6)((0,o.He)(this),(e=>{e.done=!1})),r.OH.skipAnimation?(r.Wn.batchedUpdates((()=>this.advance())),Ee(this)):r.fT.start(this))}_attach(){let e=1;(0,r.S6)((0,r.qo)(this.source),(t=>{(0,r.j$)(t)&&(0,r.UI)(t,this),D(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){(0,r.S6)((0,r.qo)(this.source),(e=>{(0,r.j$)(e)&&(0,r.iL)(e,this)})),this._active.clear(),Ee(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,r.qo)(this.source).reduce(((e,t)=>Math.max(e,(D(t)?t.priority:0)+1)),0))}}function _e(e){return!1!==e.idle}function be(e){return!e.size||Array.from(e).every(_e)}function Ee(e){e.idle||(e.idle=!0,(0,r.S6)((0,o.He)(e),(e=>{e.done=!0})),(0,r.k0)(e,{type:"idle",parent:e}))}r.OH.assign({createStringInterpolator:r.qS,to:(e,t)=>new we(e,t)});r.fT.advance},4813:function(e,t,n){"use strict";n.d(t,{B0:function(){return we},OH:function(){return M},UI:function(){return be},k0:function(){return ve},O9:function(){return X},mD:function(){return he},qS:function(){return Ae},dE:function(){return I},ZR:function(){return De},LW:function(){return Re},S6:function(){return P},rU:function(){return O},yl:function(){return A},bl:function(){return S},fT:function(){return B},Ll:function(){return ye},je:function(){return ge},j$:function(){return me},is:function(){return x},Df:function(){return Me},Xy:function(){return T},ZT:function(){return E},Wn:function(){return i},iL:function(){return Ee},qo:function(){return N},NW:function(){return Ue},bt:function(){return We},Pr:function(){return Be},tf:function(){return Fe},zH:function(){return Ve}});let r=v();const i=e=>f(e,r);let o=v();i.write=e=>f(e,o);let s=v();i.onStart=e=>f(e,s);let a=v();i.onFrame=e=>f(e,a);let u=v();i.onFinish=e=>f(e,u);let c=[];i.setTimeout=(e,t)=>{let n=i.now()+t,r=()=>{let e=c.findIndex((e=>e.cancel==r));~e&&c.splice(e,1),_.count-=~e?1:0},o={time:n,handler:e,cancel:r};return c.splice(l(n),0,o),_.count+=1,m(),o};let l=e=>~(~c.findIndex((t=>t.time>e))||~c.length);i.cancel=e=>{r.delete(e),o.delete(e)},i.sync=e=>{p=!0,i.batchedUpdates(e),p=!1},i.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,i.onStart(n)}return r.handler=e,r.cancel=()=>{s.delete(n),t=null},r};let h="undefined"!=typeof window?window.requestAnimationFrame:()=>{};i.use=e=>h=e,i.now="undefined"!=typeof performance?()=>performance.now():Date.now,i.batchedUpdates=e=>e(),i.catch=console.error,i.frameLoop="always",i.advance=()=>{"demand"!==i.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):y()};let d=-1,p=!1;function f(e,t){p?(t.delete(e),e(0)):(t.add(e),m())}function m(){d<0&&(d=0,"demand"!==i.frameLoop&&h(g))}function g(){~d&&(h(g),i.batchedUpdates(y))}function y(){let e=d;d=i.now();let t=l(d);t&&(w(c.splice(0,t),(e=>e.handler())),_.count-=t),s.flush(),r.flush(e?Math.min(64,d-e):16.667),a.flush(),o.flush(),u.flush()}function v(){let e=new Set,t=e;return{add(n){_.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(_.count-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,_.count-=t.size,w(t,(t=>t(n)&&e.add(t))),_.count+=e.size,t=e)}}}function w(e,t){e.forEach((e=>{try{t(e)}catch(n){i.catch(n)}}))}const _={count:0,clear(){d=-1,c=[],s=v(),r=v(),a=v(),o=v(),u=v(),_.count=0}};var b=n(7294);function E(){}const I=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),x={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function T(e,t){if(x.arr(e)){if(!x.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const P=(e,t)=>e.forEach(t);function O(e,t,n){for(const r in e)t.call(n,e[r],r)}const N=e=>x.und(e)?[]:x.arr(e)?e:[e];function A(e,t){if(e.size){const n=Array.from(e);e.clear(),P(n,t)}}const S=(e,...t)=>A(e,(e=>e(...t)));let L,C,R=null,k=!1,D=E;var M=Object.freeze({__proto__:null,get createStringInterpolator(){return L},get to(){return C},get colors(){return R},get skipAnimation(){return k},get willAdvance(){return D},assign:e=>{e.to&&(C=e.to),e.now&&(i.now=e.now),void 0!==e.colors&&(R=e.colors),null!=e.skipAnimation&&(k=e.skipAnimation),e.createStringInterpolator&&(L=e.createStringInterpolator),e.requestAnimationFrame&&i.use(e.requestAnimationFrame),e.batchedUpdates&&(i.batchedUpdates=e.batchedUpdates),e.willAdvance&&(D=e.willAdvance),e.frameLoop&&(i.frameLoop=e.frameLoop)}});const F=new Set;let j=[],U=[],G=0;const B={get idle(){return!F.size&&!j.length},start(e){G>e.priority?(F.add(e),i.onStart(V)):(W(e),i(H))},advance:H,sort(e){if(G)i.onFrame((()=>B.sort(e)));else{const t=j.indexOf(e);~t&&(j.splice(t,1),z(e))}},clear(){j=[],F.clear()}};function V(){F.forEach(W),F.clear(),i(H)}function W(e){j.includes(e)||z(e)}function z(e){j.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(j,(t=>t.priority>e.priority)),0,e)}function H(e){const t=U;for(let n=0;n<j.length;n++){const r=j[n];G=r.priority,r.idle||(D(r),r.advance(e),r.idle||t.push(r))}return G=0,U=j,U.length=0,j=t,j.length>0}const X={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},J="[-+]?\\d*\\.?\\d+",q=J+"%";function $(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const Y=new RegExp("rgb"+$(J,J,J)),Q=new RegExp("rgba"+$(J,J,J,J)),Z=new RegExp("hsl"+$(J,q,q)),K=new RegExp("hsla"+$(J,q,q,J)),ee=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,te=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ne=/^#([0-9a-fA-F]{6})$/,re=/^#([0-9a-fA-F]{8})$/;function ie(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oe(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=ie(i,r,e+1/3),s=ie(i,r,e),a=ie(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*a)<<8}function se(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ae(e){return(parseFloat(e)%360+360)%360/360}function ue(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ce(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function le(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ne.exec(e))?parseInt(t[1]+"ff",16)>>>0:R&&void 0!==R[e]?R[e]:(t=Y.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|255)>>>0:(t=Q.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|ue(t[4]))>>>0:(t=ee.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=re.exec(e))?parseInt(t[1],16)>>>0:(t=te.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Z.exec(e))?(255|oe(ae(t[1]),ce(t[2]),ce(t[3])))>>>0:(t=K.exec(e))?(oe(ae(t[1]),ce(t[2]),ce(t[3]))|ue(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const he=(e,t,n)=>{if(x.fun(e))return e;if(x.arr(e))return he({range:e,output:t,extrapolate:n});if(x.str(e.output[0]))return L(e);const r=e,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,s,a,u){let c=u?u(e):e;if(c<t){if("identity"===s)return c;"clamp"===s&&(c=t)}if(c>n){if("identity"===a)return c;"clamp"===a&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],u,s,a,r.map)}};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const pe=Symbol.for("FluidValue.get"),fe=Symbol.for("FluidValue.observers"),me=e=>Boolean(e&&e[pe]),ge=e=>e&&e[pe]?e[pe]():e,ye=e=>e[fe]||null;function ve(e,t){let n=e[fe];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}class we{constructor(e){if(this[pe]=void 0,this[fe]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");_e(this,e)}}const _e=(e,t)=>Ie(e,pe,t);function be(e,t){if(e[pe]){let n=e[fe];n||Ie(e,fe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ee(e,t){let n=e[fe];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[fe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const Ie=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),xe=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Te=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;let Pe;const Oe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ne=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Ae=e=>{Pe||(Pe=R?new RegExp(`(${Object.keys(R).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>ge(e).replace(Te,le).replace(Pe,le))),n=t.map((e=>e.match(xe).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>he(de({},e,{output:t}))));return e=>{let n=0;return t[0].replace(xe,(()=>String(r[n++](e)))).replace(Oe,Ne)}},Se="react-spring: ",Le=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${Se}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},Ce=Le(console.warn);function Re(){Ce(`${Se}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const ke=Le(console.warn);function De(){ke(`${Se}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Me(e){return x.str(e)&&("#"==e[0]||/\d/.test(e)||e in(R||{}))}const Fe=e=>(0,b.useEffect)(e,je),je=[];function Ue(){const e=(0,b.useState)()[1],t=(0,b.useState)(Ge)[0];return Fe(t.unmount),()=>{t.current&&e({})}}function Ge(){const e={current:!0,unmount:()=>()=>{e.current=!1}};return e}function Be(e,t){const[n]=(0,b.useState)((()=>({inputs:t,result:e()}))),r=(0,b.useRef)(),i=r.current;let o=i;if(o){Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.inputs))||(o={inputs:t,result:e()})}else o=n;return(0,b.useEffect)((()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)}),[o]),o.result}function Ve(e){const t=(0,b.useRef)();return(0,b.useEffect)((()=>{t.current=e})),t.current}const We="undefined"!==typeof window&&window.document&&window.document.createElement?b.useLayoutEffect:b.useEffect},5449:function(e,t,n){"use strict";n.d(t,{useSpring:function(){return i.q_},a:function(){return c}});var r=n(5648),i=n(4928),o=n(4813),s=n(1314),a=n(2212);const u=["primitive"].concat(Object.keys(a).filter((e=>/^[A-Z]/.test(e))).map((e=>e[0].toLowerCase()+e.slice(1))));i.OH.assign({createStringInterpolator:o.qS,colors:o.O9,frameLoop:"demand"}),(0,r.addEffect)((()=>{o.Wn.advance()}));const c=(0,s.Ld)(u,{applyAnimatedValues:r.applyProps}).animated},6493:function(e,t,n){"use strict";n.d(t,{JO:function(){return s}});var r=n(7462),i=n(7294);function o(e){const t=e+"BufferGeometry";return i.forwardRef((({args:e,children:n,...o},s)=>i.createElement("mesh",(0,r.Z)({ref:s},o),i.createElement(t,{attach:"geometry",args:e}),n)))}o("box"),o("circle"),o("cone"),o("cylinder"),o("sphere");const s=o("plane");o("tube"),o("torus"),o("torusKnot"),o("tetrahedron"),o("ring"),o("polyhedron"),o("icosahedron"),o("octahedron"),o("dodecahedron"),o("extrude"),o("lathe"),o("parametric")},8683:function(e,t,n){"use strict";n.d(t,{D:function(){return ie}});var r=n(2212),i=Uint8Array,o=Uint16Array,s=Uint32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new s(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},h=l(a,2),d=h[0],p=h[1];d[28]=258,p[258]=28;for(var f=l(u,0),m=f[0],g=(f[1],new o(32768)),y=0;y<32768;++y){var v=(43690&y)>>>1|(21845&y)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,g[y]=((65280&v)>>>8|(255&v)<<8)>>>1}var w=function(e,t,n){for(var r=e.length,i=0,s=new o(t);i<r;++i)++s[e[i]-1];var a,u=new o(t);for(i=0;i<t;++i)u[i]=u[i-1]+s[i-1]<<1;if(n){a=new o(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],h=t-e[i],d=u[e[i]-1]++<<h,p=d|(1<<h)-1;d<=p;++d)a[g[d]>>>c]=l}else for(a=new o(r),i=0;i<r;++i)e[i]&&(a[i]=g[u[e[i]-1]++]>>>15-e[i]);return a},_=new i(288);for(y=0;y<144;++y)_[y]=8;for(y=144;y<256;++y)_[y]=9;for(y=256;y<280;++y)_[y]=7;for(y=280;y<288;++y)_[y]=8;var b=new i(32);for(y=0;y<32;++y)b[y]=5;var E=w(_,9,1),I=w(b,5,1),x=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},T=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},P=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},O=function(e){return(e/8|0)+(7&e&&1)},N=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof o?o:e instanceof s?s:i)(n-t);return r.set(e.subarray(t,n)),r},A=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new i(0);var o=!t||n,s=!n||n.i;n||(n={}),t||(t=new i(3*r));var l=function(e){var n=t.length;if(e>n){var r=new i(Math.max(2*n,e));r.set(t),t=r}},h=n.f||0,p=n.p||0,f=n.b||0,g=n.l,y=n.d,v=n.m,_=n.n,b=8*r;do{if(!g){n.f=h=T(e,p,1);var A=T(e,p+1,3);if(p+=3,!A){var S=e[(B=O(p)+4)-4]|e[B-3]<<8,L=B+S;if(L>r){if(s)throw"unexpected EOF";break}o&&l(f+S),t.set(e.subarray(B,L),f),n.b=f+=S,n.p=p=8*L;continue}if(1==A)g=E,y=I,v=9,_=5;else{if(2!=A)throw"invalid block type";var C=T(e,p,31)+257,R=T(e,p+10,15)+4,k=C+T(e,p+5,31)+1;p+=14;for(var D=new i(k),M=new i(19),F=0;F<R;++F)M[c[F]]=T(e,p+3*F,7);p+=3*R;var j=x(M),U=(1<<j)-1,G=w(M,j,1);for(F=0;F<k;){var B,V=G[T(e,p,U)];if(p+=15&V,(B=V>>>4)<16)D[F++]=B;else{var W=0,z=0;for(16==B?(z=3+T(e,p,3),p+=2,W=D[F-1]):17==B?(z=3+T(e,p,7),p+=3):18==B&&(z=11+T(e,p,127),p+=7);z--;)D[F++]=W}}var H=D.subarray(0,C),X=D.subarray(C);v=x(H),_=x(X),g=w(H,v,1),y=w(X,_,1)}if(p>b){if(s)throw"unexpected EOF";break}}o&&l(f+131072);for(var J=(1<<v)-1,q=(1<<_)-1,$=p;;$=p){var Y=(W=g[P(e,p)&J])>>>4;if((p+=15&W)>b){if(s)throw"unexpected EOF";break}if(!W)throw"invalid length/literal";if(Y<256)t[f++]=Y;else{if(256==Y){$=p,g=null;break}var Q=Y-254;if(Y>264){var Z=a[F=Y-257];Q=T(e,p,(1<<Z)-1)+d[F],p+=Z}var K=y[P(e,p)&q],ee=K>>>4;if(!K)throw"invalid distance";p+=15&K;X=m[ee];if(ee>3){Z=u[ee];X+=P(e,p)&(1<<Z)-1,p+=Z}if(p>b){if(s)throw"unexpected EOF";break}o&&l(f+131072);for(var te=f+Q;f<te;f+=4)t[f]=t[f-X],t[f+1]=t[f+1-X],t[f+2]=t[f+2-X],t[f+3]=t[f+3-X];f=te}}n.l=g,n.p=$,n.b=f,g&&(h=1,n.m=v,n.d=y,n.n=_)}while(!h);return f==t.length?t:N(t,0,f)},S=new i(0),L=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function C(e,t){return A((L(e),e.subarray(2,-4)),t)}var R="undefined"!=typeof TextDecoder&&new TextDecoder;try{R.decode(S,{stream:!0}),1}catch(oe){}class k extends r.Curve{constructor(e,t,n,i,o){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=o||this.knots.length-1;for(let s=0;s<n.length;++s){const e=n[s];this.controlPoints[s]=new r.Vector4(e.x,e.y,e.z,e.w)}}getPoint(e,t){const n=t||new r.Vector3,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=function(e,t,n,i){const o=this.findSpan(e,i,t),s=this.calcBasisFunctions(o,i,e,t),a=new r.Vector4(0,0,0,0);for(let r=0;r<=e;++r){const t=n[o-e+r],i=s[r],u=t.w*i;a.x+=t.x*u,a.y+=t.y*u,a.z+=t.z*u,a.w+=t.w*i}return a}(this.degree,this.knots,this.controlPoints,i);return 1!=o.w&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)}getTangent(e,t){const n=t||new r.Vector3,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=function(e,t,n,r,i){const o=this.calcBSplineDerivatives(e,t,n,r,i);return this.calcRationalCurveDerivatives(o)}(this.degree,this.knots,this.controlPoints,i,1);return n.copy(o[1]).normalize(),n}}let D,M,F;class j extends r.Loader{constructor(e){super(e)}load(e,t,n,i){const o=this,s=""===o.path?r.LoaderUtils.extractUrlBase(e):o.path,a=new r.FileLoader(this.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,(function(n){try{t(o.parse(n,s))}catch(oe){i?i(oe):console.error(oe),o.manager.itemError(e)}}),n,i)}parse(e,t){if(function(e){const t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===te(e,0,t.length)}(e))D=(new W).parse(e);else{const t=te(e);if(!function(e){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(t){const r=e[t-1];return e=e.slice(n+t),n++,r}for(let i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(t))throw new Error("THREE.FBXLoader: Unknown format.");if(X(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+X(t));D=(new V).parse(t)}const n=new r.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new U(n,this.manager).parse(D)}}class U{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){M=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),i=(new G).parse(r);return this.parseScene(r,i,n),F}parseConnections(){const e=new Map;if("Connections"in D){D.Connections.connections.forEach((function(t){const n=t[0],r=t[1],i=t[2];e.has(n)||e.set(n,{parents:[],children:[]});const o={ID:r,relationship:i};e.get(n).parents.push(o),e.has(r)||e.set(r,{parents:[],children:[]});const s={ID:n,relationship:i};e.get(r).children.push(s)}))}return e}parseImages(){const e={},t={};if("Video"in D.Objects){const n=D.Objects.Video;for(const r in n){const i=n[r];if(e[parseInt(r)]=i.RelativeFilename||i.Filename,"Content"in i){const e=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,o="string"===typeof i.Content&&""!==i.Content;if(e||o){const e=this.parseImage(n[r]);t[i.RelativeFilename||i.Filename]=e}}}}for(const n in e){const r=e[n];void 0!==t[r]?e[n]=t[r]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let i;switch(r){case"bmp":i="image/bmp";break;case"jpg":case"jpeg":i="image/jpeg";break;case"png":i="image/png";break;case"tif":i="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",n),i="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"===typeof t)return"data:"+i+";base64,"+t;{const e=new Uint8Array(t);return window.URL.createObjectURL(new Blob([e],{type:i}))}}parseTextures(e){const t=new Map;if("Texture"in D.Objects){const n=D.Objects.Texture;for(const r in n){const i=this.parseTexture(n[r],e);t.set(parseInt(r),i)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const i=e.WrapModeU,o=e.WrapModeV,s=void 0!==i?i.value:0,a=void 0!==o?o.value:0;if(n.wrapS=0===s?r.RepeatWrapping:r.ClampToEdgeWrapping,n.wrapT=0===a?r.RepeatWrapping:r.ClampToEdgeWrapping,"Scaling"in e){const t=e.Scaling.value;n.repeat.x=t[0],n.repeat.y=t[1]}return n}loadTexture(e,t){let n;const i=this.textureLoader.path,o=M.get(e.id).children;let s;void 0!==o&&o.length>0&&void 0!==t[o[0].ID]&&(n=t[o[0].ID],0!==n.indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));const a=e.FileName.slice(-3).toLowerCase();if("tga"===a){const t=this.manager.getHandler(".tga");null===t?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new r.Texture):s=t.load(n)}else"psd"===a?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new r.Texture):s=this.textureLoader.load(n);return this.textureLoader.setPath(i),s}parseMaterials(e){const t=new Map;if("Material"in D.Objects){const n=D.Objects.Material;for(const r in n){const i=this.parseMaterial(n[r],e);null!==i&&t.set(parseInt(r),i)}}return t}parseMaterial(e,t){const n=e.id,i=e.attrName;let o=e.ShadingModel;if("object"===typeof o&&(o=o.value),!M.has(n))return null;const s=this.parseParameters(e,t,n);let a;switch(o.toLowerCase()){case"phong":a=new r.MeshPhongMaterial;break;case"lambert":a=new r.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new r.MeshPhongMaterial}return a.setValues(s),a.name=i,a}parseParameters(e,t,n){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new r.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(i.color=(new r.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new r.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(i.emissive=(new r.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new r.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new r.Color).fromArray(e.SpecularColor.value));const o=this;return M.get(n).children.forEach((function(e){const n=e.relationship;switch(n){case"Bump":i.bumpMap=o.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=o.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=o.getTexture(t,e.ID),i.map.encoding=r.sRGBEncoding;break;case"DisplacementColor":i.displacementMap=o.getTexture(t,e.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(t,e.ID),i.emissiveMap.encoding=r.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=o.getTexture(t,e.ID);break;case"ReflectionColor":i.envMap=o.getTexture(t,e.ID),i.envMap.mapping=r.EquirectangularReflectionMapping,i.envMap.encoding=r.sRGBEncoding;break;case"SpecularColor":i.specularMap=o.getTexture(t,e.ID),i.specularMap.encoding=r.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=o.getTexture(t,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n)}})),i}getTexture(e,t){return"LayeredTexture"in D.Objects&&t in D.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=M.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in D.Objects){const n=D.Objects.Deformer;for(const r in n){const i=n[r],o=M.get(parseInt(r));if("Skin"===i.attrType){const t=this.parseSkeleton(o,n);t.ID=r,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),t.geometryID=o.parents[0].ID,e[r]=t}else if("BlendShape"===i.attrType){const e={id:r};e.rawTargets=this.parseMorphTargets(o,n),e.id=r,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=e}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach((function(e){const i=t[e.ID];if("Cluster"!==i.attrType)return;const o={ID:e.ID,indices:[],weights:[],transformLink:(new r.Matrix4).fromArray(i.TransformLink.a)};"Indexes"in i&&(o.indices=i.Indexes.a,o.weights=i.Weights.a),n.push(o)})),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let r=0;r<e.children.length;r++){const i=e.children[r],o=t[i.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;s.geoID=M.get(parseInt(i.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(s)}return n}parseScene(e,t,n){F=new r.Group;const i=this.parseModels(e.skeletons,t,n),o=D.Objects.Model,s=this;i.forEach((function(e){const t=o[e.ID];s.setLookAtProperties(e,t);M.get(e.ID).parents.forEach((function(t){const n=i.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&F.add(e)})),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),this.setupMorphMaterials(),F.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);const t=Z(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));const a=(new B).parse();1===F.children.length&&F.children[0].isGroup&&(F.children[0].animations=a,F=F.children[0]),F.animations=a}parseModels(e,t,n){const i=new Map,o=D.Objects.Model;for(const s in o){const a=parseInt(s),u=o[s],c=M.get(a);let l=this.buildSkeleton(c,e,a,u.attrName);if(!l){switch(u.attrType){case"Camera":l=this.createCamera(c);break;case"Light":l=this.createLight(c);break;case"Mesh":l=this.createMesh(c,t,n);break;case"NurbsCurve":l=this.createCurve(c,t);break;case"LimbNode":case"Root":l=new r.Bone;break;case"Null":default:l=new r.Group}l.name=u.attrName?r.PropertyBinding.sanitizeNodeName(u.attrName):"",l.ID=a}this.getTransformData(l,u),i.set(a,l)}return i}buildSkeleton(e,t,n,i){let o=null;return e.parents.forEach((function(e){for(const s in t){const a=t[s];a.rawBones.forEach((function(t,s){if(t.ID===e.ID){const e=o;o=new r.Bone,o.matrixWorld.copy(t.transformLink),o.name=i?r.PropertyBinding.sanitizeNodeName(i):"",o.ID=n,a.bones[s]=o,null!==e&&o.add(e)}}))}})),o}createCamera(e){let t,n;if(e.children.forEach((function(e){const t=D.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new r.Object3D;else{let e=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(e=1);let i=1;void 0!==n.NearPlane&&(i=n.NearPlane.value/1e3);let o=1e3;void 0!==n.FarPlane&&(o=n.FarPlane.value/1e3);let s=window.innerWidth,a=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(s=n.AspectWidth.value,a=n.AspectHeight.value);const u=s/a;let c=45;void 0!==n.FieldOfView&&(c=n.FieldOfView.value);const l=n.FocalLength?n.FocalLength.value:null;switch(e){case 0:t=new r.PerspectiveCamera(c,u,i,o),null!==l&&t.setFocalLength(l);break;case 1:t=new r.OrthographicCamera(-s/2,s/2,a/2,-a/2,i,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+e+"."),t=new r.Object3D}}return t}createLight(e){let t,n;if(e.children.forEach((function(e){const t=D.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new r.Object3D;else{let e;e=void 0===n.LightType?0:n.LightType.value;let i=16777215;void 0!==n.Color&&(i=(new r.Color).fromArray(n.Color.value));let o=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(o=0);let s=0;void 0!==n.FarAttenuationEnd&&(s=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);const a=1;switch(e){case 0:t=new r.PointLight(i,o,s,a);break;case 1:t=new r.DirectionalLight(i,o);break;case 2:let e=Math.PI/3;void 0!==n.InnerAngle&&(e=r.MathUtils.degToRad(n.InnerAngle.value));let u=0;void 0!==n.OuterAngle&&(u=r.MathUtils.degToRad(n.OuterAngle.value),u=Math.max(u,1)),t=new r.SpotLight(i,o,s,e,u,a);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new r.PointLight(i,o)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,n){let i,o=null,s=null;const a=[];return e.children.forEach((function(e){t.has(e.ID)&&(o=t.get(e.ID)),n.has(e.ID)&&a.push(n.get(e.ID))})),a.length>1?s=a:a.length>0?s=a[0]:(s=new r.MeshPhongMaterial({color:13421772}),a.push(s)),"color"in o.attributes&&a.forEach((function(e){e.vertexColors=!0})),o.FBX_Deformer?(a.forEach((function(e){e.skinning=!0})),i=new r.SkinnedMesh(o,s),i.normalizeSkinWeights()):i=new r.Mesh(o,s),i}createCurve(e,t){const n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),i=new r.LineBasicMaterial({color:3342591,linewidth:1});return new r.Line(n,i)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?K(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){if("LookAtProperty"in t){M.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){const n=D.Objects.Model[t.ID];if("Lcl_Translation"in n){const t=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(t),F.add(e.target)):e.lookAt((new r.Vector3).fromArray(t))}}}))}}bindSkeleton(e,t,n){const i=this.parsePoseNodes();for(const o in e){const s=e[o];M.get(parseInt(s.ID)).parents.forEach((function(e){if(t.has(e.ID)){const t=e.ID;M.get(t).parents.forEach((function(e){if(n.has(e.ID)){n.get(e.ID).bind(new r.Skeleton(s.bones),i[e.ID])}}))}}))}}parsePoseNodes(){const e={};if("Pose"in D.Objects){const t=D.Objects.Pose;for(const n in t)if("BindPose"===t[n].attrType){const i=t[n].PoseNode;Array.isArray(i)?i.forEach((function(t){e[t.Node]=(new r.Matrix4).fromArray(t.Matrix.a)})):e[i.Node]=(new r.Matrix4).fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in D&&"AmbientColor"in D.GlobalSettings){const e=D.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],i=e[2];if(0!==t||0!==n||0!==i){const e=new r.Color(t,n,i);F.add(new r.AmbientLight(e,1))}}}setupMorphMaterials(){const e=this;F.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))}setupMorphMaterial(e,t,n){const r=e.uuid,i=t.uuid;let o=!1;if(F.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===i&&e.uuid!==r&&(o=!0)})):e.material.uuid===i&&e.uuid!==r&&(o=!0))})),!0===o){const r=t.clone();r.morphTargets=!0,void 0===n?e.material=r:e.material[n]=r}else t.morphTargets=!0}}class G{parse(e){const t=new Map;if("Geometry"in D.Objects){const n=D.Objects.Geometry;for(const r in n){const i=M.get(parseInt(r)),o=this.parseGeometry(i,n[r],e);t.set(parseInt(r),o)}}return t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const r=n.skeletons,i=[],o=e.parents.map((function(e){return D.Objects.Model[e.ID]}));if(0===o.length)return;const s=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&i.push(n.morphTargets[e.ID])}));const a=o[0],u={};"RotationOrder"in a&&(u.eulerOrder=K(a.RotationOrder.value)),"InheritType"in a&&(u.inheritType=parseInt(a.InheritType.value)),"GeometricTranslation"in a&&(u.translation=a.GeometricTranslation.value),"GeometricRotation"in a&&(u.rotation=a.GeometricRotation.value),"GeometricScaling"in a&&(u.scale=a.GeometricScaling.value);const c=Z(u);return this.genGeometry(t,s,i,c)}genGeometry(e,t,n,i){const o=new r.BufferGeometry;e.attrName&&(o.name=e.attrName);const s=this.parseGeoNode(e,t),a=this.genBuffers(s),u=new r.Float32BufferAttribute(a.vertex,3);if(u.applyMatrix4(i),o.setAttribute("position",u),a.colors.length>0&&o.setAttribute("color",new r.Float32BufferAttribute(a.colors,3)),t&&(o.setAttribute("skinIndex",new r.Uint16BufferAttribute(a.weightsIndices,4)),o.setAttribute("skinWeight",new r.Float32BufferAttribute(a.vertexWeights,4)),o.FBX_Deformer=t),a.normal.length>0){const e=(new r.Matrix3).getNormalMatrix(i),t=new r.Float32BufferAttribute(a.normal,3);t.applyNormalMatrix(e),o.setAttribute("normal",t)}if(a.uvs.forEach((function(e,t){let n="uv"+(t+1).toString();0===t&&(n="uv"),o.setAttribute(n,new r.Float32BufferAttribute(a.uvs[t],2))})),s.material&&"AllSame"!==s.material.mappingType){let e=a.materialIndex[0],t=0;if(a.materialIndex.forEach((function(n,r){n!==e&&(o.addGroup(t,r-t,e),e=n,t=r)})),o.groups.length>0){const t=o.groups[o.groups.length-1],n=t.start+t.count;n!==a.materialIndex.length&&o.addGroup(n,a.materialIndex.length-n,e)}0===o.groups.length&&o.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(o,e,n,i),o}parseGeoNode(e,t){const n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,i=!1,o=[],s=[],a=[],u=[],c=[],l=[];const h=this;return e.vertexIndices.forEach((function(d,p){let f,m=!1;d<0&&(d^=-1,m=!0);let g=[],y=[];if(o.push(3*d,3*d+1,3*d+2),e.color){const t=$(p,n,d,e.color);a.push(t[0],t[1],t[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach((function(e){y.push(e.weight),g.push(e.id)})),y.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);const e=[0,0,0,0],t=[0,0,0,0];y.forEach((function(n,r){let i=n,o=g[r];t.forEach((function(t,n,r){if(i>t){r[n]=i,i=t;const s=e[n];e[n]=o,o=s}}))})),g=e,y=t}for(;y.length<4;)y.push(0),g.push(0);for(let e=0;e<4;++e)c.push(y[e]),l.push(g[e])}if(e.normal){const t=$(p,n,d,e.normal);s.push(t[0],t[1],t[2])}e.material&&"AllSame"!==e.material.mappingType&&(f=$(p,n,d,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){const r=$(p,n,d,e);void 0===u[t]&&(u[t]=[]),u[t].push(r[0]),u[t].push(r[1])})),r++,m&&(h.genFace(t,e,o,f,s,a,u,c,l,r),n++,r=0,o=[],s=[],a=[],u=[],c=[],l=[])})),t}genFace(e,t,n,r,i,o,s,a,u,c){for(let l=2;l<c;l++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(l-1)]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+2]]),e.vertex.push(t.vertexPositions[n[3*l]]),e.vertex.push(t.vertexPositions[n[3*l+1]]),e.vertex.push(t.vertexPositions[n[3*l+2]]),t.skeleton&&(e.vertexWeights.push(a[0]),e.vertexWeights.push(a[1]),e.vertexWeights.push(a[2]),e.vertexWeights.push(a[3]),e.vertexWeights.push(a[4*(l-1)]),e.vertexWeights.push(a[4*(l-1)+1]),e.vertexWeights.push(a[4*(l-1)+2]),e.vertexWeights.push(a[4*(l-1)+3]),e.vertexWeights.push(a[4*l]),e.vertexWeights.push(a[4*l+1]),e.vertexWeights.push(a[4*l+2]),e.vertexWeights.push(a[4*l+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(l-1)]),e.weightsIndices.push(u[4*(l-1)+1]),e.weightsIndices.push(u[4*(l-1)+2]),e.weightsIndices.push(u[4*(l-1)+3]),e.weightsIndices.push(u[4*l]),e.weightsIndices.push(u[4*l+1]),e.weightsIndices.push(u[4*l+2]),e.weightsIndices.push(u[4*l+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[3*(l-1)]),e.colors.push(o[3*(l-1)+1]),e.colors.push(o[3*(l-1)+2]),e.colors.push(o[3*l]),e.colors.push(o[3*l+1]),e.colors.push(o[3*l+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(l-1)]),e.normal.push(i[3*(l-1)+1]),e.normal.push(i[3*(l-1)+2]),e.normal.push(i[3*l]),e.normal.push(i[3*l+1]),e.normal.push(i[3*l+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(s[n][0]),e.uvs[n].push(s[n][1]),e.uvs[n].push(s[n][2*(l-1)]),e.uvs[n].push(s[n][2*(l-1)+1]),e.uvs[n].push(s[n][2*l]),e.uvs[n].push(s[n][2*l+1])}))}addMorphTargets(e,t,n,r){if(0===n.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const i=this;n.forEach((function(n){n.rawTargets.forEach((function(n){const o=D.Objects.Geometry[n.geoID];void 0!==o&&i.genMorphGeometry(e,t,o,r,n.name)}))}))}genMorphGeometry(e,t,n,i,o){const s=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],a=void 0!==n.Vertices?n.Vertices.a:[],u=void 0!==n.Indexes?n.Indexes.a:[],c=3*e.attributes.position.count,l=new Float32Array(c);for(let r=0;r<u.length;r++){const e=3*u[r];l[e]=a[3*r],l[e+1]=a[3*r+1],l[e+2]=a[3*r+2]}const h={vertexIndices:s,vertexPositions:l},d=this.genBuffers(h),p=new r.Float32BufferAttribute(d.vertex,3);p.name=o||n.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a;let i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a;let i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a;let i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=e.Materials.a,i=[];for(let o=0;o<r.length;++o)i.push(o);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}}parseNurbsGeometry(e){if(void 0===k)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new r.BufferGeometry;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new r.BufferGeometry;const n=t-1,i=e.KnotVector.a,o=[],s=e.Points.a;for(let d=0,p=s.length;d<p;d+=4)o.push((new r.Vector4).fromArray(s,d));let a,u;if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){a=n,u=i.length-1-a;for(let e=0;e<n;++e)o.push(o[e])}const c=new k(n,i,o,a,u).getPoints(7*o.length),l=new Float32Array(3*c.length);c.forEach((function(e,t){e.toArray(l,3*t)}));const h=new r.BufferGeometry;return h.setAttribute("position",new r.BufferAttribute(l,3)),h}}class B{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const n in t){const r=t[n],i=this.addClip(r);e.push(i)}return e}parseClips(){if(void 0===D.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=D.Objects.AnimationCurveNode,t=new Map;for(const n in e){const r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){const e={id:r.id,attr:r.attrName,curves:{}};t.set(e.id,e)}}return t}parseAnimationCurves(e){const t=D.Objects.AnimationCurve;for(const n in t){const r={id:t[n].id,times:t[n].KeyTime.a.map(J),values:t[n].KeyValueFloat.a},i=M.get(r.id);if(void 0!==i){const t=i.parents[0].ID,n=i.parents[0].relationship;n.match(/X/)?e.get(t).curves.x=r:n.match(/Y/)?e.get(t).curves.y=r:n.match(/Z/)?e.get(t).curves.z=r:n.match(/d|DeformPercent/)&&e.has(t)&&(e.get(t).curves.morph=r)}}}parseAnimationLayers(e){const t=D.Objects.AnimationLayer,n=new Map;for(const i in t){const t=[],o=M.get(parseInt(i));if(void 0!==o){o.children.forEach((function(n,i){if(e.has(n.ID)){const o=e.get(n.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===t[i]){const e=M.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==e){const o=D.Objects.Model[e.toString()];if(void 0===o)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",n);const s={modelName:o.attrName?r.PropertyBinding.sanitizeNodeName(o.attrName):"",ID:o.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};F.traverse((function(e){e.ID===o.id&&(s.transform=e.matrix,e.userData.transformData&&(s.eulerOrder=e.userData.transformData.eulerOrder))})),s.transform||(s.transform=new r.Matrix4),"PreRotation"in o&&(s.preRotation=o.PreRotation.value),"PostRotation"in o&&(s.postRotation=o.PostRotation.value),t[i]=s}}t[i]&&(t[i][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===t[i]){const e=M.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,o=M.get(e).parents[0].ID,s=M.get(o).parents[0].ID,a=M.get(s).parents[0].ID,u=D.Objects.Model[a],c={modelName:u.attrName?r.PropertyBinding.sanitizeNodeName(u.attrName):"",morphName:D.Objects.Deformer[e].attrName};t[i]=c}t[i][o.attr]=o}}})),n.set(parseInt(i),t)}}return n}parseAnimStacks(e){const t=D.Objects.AnimationStack,n={};for(const r in t){const i=M.get(parseInt(r)).children;i.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(i[0].ID);n[r]={name:t[r].attrName,layer:o}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new r.AnimationClip(e.name,-1,t)}generateTracks(e){const t=[];let n=new r.Vector3,i=new r.Quaternion,o=new r.Vector3;if(e.transform&&e.transform.decompose(n,i,o),n=n.toArray(),i=(new r.Euler).setFromQuaternion(i,e.eulerOrder).toArray(),o=o.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const r=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==r&&t.push(r)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const n=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);void 0!==n&&t.push(n)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const n=this.generateVectorTrack(e.modelName,e.S.curves,o,"scale");void 0!==n&&t.push(n)}if(void 0!==e.DeformPercent){const n=this.generateMorphTrack(e);void 0!==n&&t.push(n)}return t}generateVectorTrack(e,t,n,i){const o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);return new r.VectorKeyframeTrack(e+"."+i,o,s)}generateRotationTrack(e,t,n,i,o,s){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(r.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(r.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(r.MathUtils.degToRad));const a=this.getTimesForAllAxes(t),u=this.getKeyframeTrackValues(a,t,n);void 0!==i&&((i=i.map(r.MathUtils.degToRad)).push(s),i=(new r.Euler).fromArray(i),i=(new r.Quaternion).setFromEuler(i)),void 0!==o&&((o=o.map(r.MathUtils.degToRad)).push(s),o=(new r.Euler).fromArray(o),o=(new r.Quaternion).setFromEuler(o).invert());const c=new r.Quaternion,l=new r.Euler,h=[];for(let r=0;r<u.length;r+=3)l.set(u[r],u[r+1],u[r+2],s),c.setFromEuler(l),void 0!==i&&c.premultiply(i),void 0!==o&&c.multiply(o),c.toArray(h,r/3*4);return new r.QuaternionKeyframeTrack(e+".quaternion",a,h)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),i=F.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new r.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){let e=1,n=t[0];for(let r=1;r<t.length;r++){const i=t[r];i!==n&&(t[e]=i,n=i,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,n){const r=n,i=[];let o=-1,s=-1,a=-1;return e.forEach((function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(s=t.y.times.indexOf(e)),t.z&&(a=t.z.times.indexOf(e)),-1!==o){const e=t.x.values[o];i.push(e),r[0]=e}else i.push(r[0]);if(-1!==s){const e=t.y.values[s];i.push(e),r[1]=e}else i.push(r[1]);if(-1!==a){const e=t.z.values[a];i.push(e),r[2]=e}else i.push(r[2])})),i}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){const o=i/180,s=r/o;let a=n+s;const u=e.times[t-1],c=(e.times[t]-u)/o;let l=u+c;const h=[],d=[];for(;l<e.times[t];)h.push(l),l+=c,d.push(a),a+=s;e.times=ne(e.times,t,h),e.values=ne(e.values,t,d)}}}}class V{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new H,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){const i=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(i||o)return;const s=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),a=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");s?t.parseNodeBegin(e,s):a?t.parseNodeProperty(e,a,n[++r]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)})),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},o=this.parseNodeAttr(r),s=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in s?("PoseNode"===n?s.PoseNode.push(i):void 0!==s[n].id&&(s[n]={},s[n][s[n].id]=s[n]),""!==o.id&&(s[n][o.id]=i)):"number"===typeof o.id?(s[n]={},s[n][o.id]=i):"Properties70"!==n&&(s[n]="PoseNode"===n?[i]:i),"number"===typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}parseNodeProperty(e,t,n){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===r){const e=i.split(",").slice(1),t=parseInt(e[0]),n=parseInt(e[1]);let s=i.split(",").slice(3);s=s.map((function(e){return e.trim().replace(/^"/,"")})),r="connections",i=[t,n],function(e,t){for(let n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i,s),void 0===o[r]&&(o[r]=[])}"Node"===r&&(o.id=i),r in o&&Array.isArray(o[r])?o[r].push(i):"a"!==r?o[r]=i:o.a=i,this.setCurrentProp(o,r),"a"===r&&","!==i.slice(-1)&&(o.a=ee(i))}else this.parseNodeSpecialProperty(e,r,i)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=ee(t.a))}parseNodeSpecialProperty(e,t,n){const r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],o=r[1],s=r[2],a=r[3];let u=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=ee(u)}this.getPrevNode()[i]={type:o,type2:s,flag:a,value:u},this.setCurrentProp(this.getPrevNode(),i)}}class W{parse(e){const t=new z(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new H;for(;!this.endOfContent(t);){const e=this.parseNode(t,n);null!==e&&r.add(e.name,e)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),s=e.getString(o);if(0===r)return null;const a=[];for(let h=0;h<i;h++)a.push(this.parseProperty(e));const u=a.length>0?a[0]:"",c=a.length>1?a[1]:"",l=a.length>2?a[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){const r=this.parseNode(e,t);null!==r&&this.parseSubNode(s,n,r)}return n.propertyList=a,"number"===typeof u&&(n.id=u),""!==c&&(n.attrName=c),""!==l&&(n.attrType=l),""!==s&&(n.name=s),n}parseSubNode(e,t,n){if(!0===n.singleProperty){const e=n.propertyList[0];Array.isArray(e)?(t[n.name]=n,n.a=e):t[n.name]=e}else if("Connections"===e&&"C"===n.name){const e=[];n.propertyList.forEach((function(t,n){0!==n&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){let e=n.propertyList[0],r=n.propertyList[1];const i=n.propertyList[2],o=n.propertyList[3];let s;0===e.indexOf("Lcl ")&&(e=e.replace("Lcl ","Lcl_")),0===r.indexOf("Lcl ")&&(r=r.replace("Lcl ","Lcl_")),s="Color"===r||"ColorRGB"===r||"Vector"===r||"Vector3D"===r||0===r.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[e]={type:r,type2:i,flag:o,value:s}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),i=e.getUint32(),o=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}const s=C(new Uint8Array(e.getArrayBuffer(o))),a=new z(s.buffer);switch(t){case"b":case"c":return a.getBooleanArray(r);case"d":return a.getFloat64Array(r);case"f":return a.getFloat32Array(r);case"i":return a.getInt32Array(r);case"l":return a.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class z{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1===(1&this.getUint8())}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const n=t.indexOf(0);return n>=0&&(t=t.slice(0,n)),r.LoaderUtils.decodeText(new Uint8Array(t))}}class H{add(e,t){this[e]=t}}function X(e){const t=e.match(/FBXVersion: (\d+)/);if(t){return parseInt(t[1])}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function J(e){return e/46186158e3}const q=[];function $(e,t,n,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);const o=i*r.dataSize,s=o+r.dataSize;return function(e,t,n,r){for(let i=n,o=0;i<r;i++,o++)e[o]=t[i];return e}(q,r.buffer,o,s)}const Y=new r.Euler,Q=new r.Vector3;function Z(e){const t=new r.Matrix4,n=new r.Matrix4,i=new r.Matrix4,o=new r.Matrix4,s=new r.Matrix4,a=new r.Matrix4,u=new r.Matrix4,c=new r.Matrix4,l=new r.Matrix4,h=new r.Matrix4,d=new r.Matrix4,p=new r.Matrix4,f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(Q.fromArray(e.translation)),e.preRotation){const t=e.preRotation.map(r.MathUtils.degToRad);t.push(e.eulerOrder),n.makeRotationFromEuler(Y.fromArray(t))}if(e.rotation){const t=e.rotation.map(r.MathUtils.degToRad);t.push(e.eulerOrder),i.makeRotationFromEuler(Y.fromArray(t))}if(e.postRotation){const t=e.postRotation.map(r.MathUtils.degToRad);t.push(e.eulerOrder),o.makeRotationFromEuler(Y.fromArray(t)),o.invert()}e.scale&&s.scale(Q.fromArray(e.scale)),e.scalingOffset&&u.setPosition(Q.fromArray(e.scalingOffset)),e.scalingPivot&&a.setPosition(Q.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition(Q.fromArray(e.rotationOffset)),e.rotationPivot&&l.setPosition(Q.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d.copy(e.parentMatrix),h.copy(e.parentMatrixWorld));const m=(new r.Matrix4).copy(n).multiply(i).multiply(o),g=new r.Matrix4;g.extractRotation(h);const y=new r.Matrix4;y.copyPosition(h);const v=new r.Matrix4,w=(new r.Matrix4).copy(y).invert().multiply(h);v.copy(g).invert().multiply(w);const _=s,b=new r.Matrix4;if(0===f)b.copy(g).multiply(m).multiply(v).multiply(_);else if(1===f)b.copy(g).multiply(v).multiply(m).multiply(_);else{const e=(new r.Matrix4).scale((new r.Vector3).setFromMatrixScale(d)),t=(new r.Matrix4).copy(e).invert(),n=(new r.Matrix4).copy(v).multiply(t);b.copy(g).multiply(m).multiply(n).multiply(_)}const E=new r.Matrix4;E.copy(l).invert();const I=new r.Matrix4;I.copy(a).invert();let x=new r.Matrix4;x.copy(t).multiply(c).multiply(l).multiply(n).multiply(i).multiply(o).multiply(E).multiply(u).multiply(a).multiply(s).multiply(I);const T=(new r.Matrix4).copyPosition(x),P=(new r.Matrix4).copy(h).multiply(T);return p.copyPosition(P),x=(new r.Matrix4).copy(p).multiply(b),x.premultiply(h.invert()),x}function K(e){const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function ee(e){return e.split(",").map((function(e){return parseFloat(e)}))}function te(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),r.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function ne(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}var re=n(5648);function ie(e){return(0,re.useLoader)(j,e)}ie.preload=e=>re.useLoader.preload(j,e)},5951:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var r=n(7294),i=n(5769),o=n(2212);const s={0:"151_norm.JPG",1:"152_norm.JPG",2:"153_norm.JPG",3:"154_norm.JPG",4:"155_norm.JPG",5:"156_norm.JPG",6:"157_norm.JPG",7:"158_norm.JPG",8:"159_norm.JPG",9:"160_norm.JPG",10:"161_norm.JPG",11:"162_norm.JPG",12:"163_norm.JPG",13:"164_norm.JPG",14:"165_norm.JPG",15:"166_norm.JPG",16:"167_norm.JPG",17:"168_norm.JPG",18:"169_norm.JPG",19:"170_norm.JPG",20:"171_norm.JPG",21:"172_norm.JPG",22:"173_norm.JPG",23:"174_norm.jpg",24:"175_norm.JPG",25:"176_norm.JPG",26:"177_norm.JPG",27:"178_norm.JPG",28:"179_norm.JPG",29:"180_norm.JPG",30:"181_norm.JPG",31:"182_norm.JPG",32:"183_norm.JPG",33:"184_norm.JPG",34:"185_norm.JPG",35:"186_norm.JPG",36:"187_norm.JPG",37:"188_norm.JPG",38:"189_norm.JPG",39:"190_norm.JPG",40:"191_norm.JPG",41:"192_norm.JPG",42:"193_norm.JPG",43:"194_norm.JPG",44:"195_norm.JPG",45:"196_norm.JPG",46:"197_norm.JPG",47:"198_norm.JPG",48:"199_norm.JPG",49:"200_norm.JPG",50:"201_norm.jpg",51:"202_norm.jpg",52:"203_norm.jpg",53:"204_norm.jpg",54:"205_norm.jpg",55:"206_norm.jpg",56:"207_norm.jpg",57:"208_norm.jpg",58:"209_norm.jpg",59:"210_norm.jpg",60:"211_norm.jpg",61:"212_norm.jpg",62:"213_norm.jpg",63:"214_norm.jpg",64:"215_norm.jpg",65:"216_norm.jpg",66:"217_norm.jpg",67:"218_norm.jpg",68:"219_norm.jpg",69:"220_norm.jpg",70:"221_norm.jpg",71:"222_norm.jpg",72:"223_norm.jpg",73:"224_norm.jpg",74:"225_norm.jpg",75:"226_norm.jpg"},a=s[0];function u(e=0,t={}){const{repeat:n=[1,1],anisotropy:u=1,offset:c=[0,0]}=t,l=r.useMemo((()=>Object.keys(s).length),[]),h=`https://rawcdn.githack.com/emmelleppi/normal-maps/f24c810fc1d86b5b1e5dfea914b668f70b5f2923/normals/${s[e]||a}`,d=(0,i.m)(h);return r.useEffect((()=>{d&&(d.wrapS=d.wrapT=o.RepeatWrapping,d.repeat=new o.Vector2(n[0],n[1]),d.offset=new o.Vector2(c[0],c[1]),d.anisotropy=u)}),[d,u,n,c]),[d,h,l]}},1488:function(e,t,n){"use strict";var r=n(7154),i=n(7316),o=n(7294),s=n(5009),a=n(5648),u=n(2212);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=c(r),h=c(i),d=c(o),p=c(s),f=function(e){return e[0].toUpperCase()+e.slice(1)},m=function(e){return e.toUpperCase().replace("-","_")},g=function(e,t,n){return Object.keys(t).forEach((function(r){var i=t[r];if("string"==typeof i)switch(r){case"flexDir":case"dir":case"flexDirection":return e.setFlexDirection(p.default["FLEX_DIRECTION_"+m(i)]);case"align":case"alignItems":return e.setAlignItems(p.default["ALIGN_"+m(i)]);case"justify":case"justifyContent":return e.setJustifyContent(p.default["JUSTIFY_"+m(i)]);case"wrap":case"flexWrap":return e.setFlexWrap(p.default["WRAP_"+m(i)]);case"basis":case"flexBasis":return e.setFlexBasis(i);default:return e["set"+f(r)](i)}else if("number"==typeof i){var o=i*n;switch(r){case"basis":case"flexBasis":return e.setFlexBasis(o);case"grow":case"flexGrow":return e.setFlexGrow(o);case"shrink":case"flexShrink":return e.setFlexShrink(o);case"align":return e.setAlignItems(i);case"justify":return e.setJustifyContent(i);case"flexDir":case"dir":return e.setFlexDirection(i);case"wrap":return e.setFlexWrap(i);case"padding":case"p":return e.setPadding(p.default.EDGE_ALL,o);case"paddingLeft":case"pl":return e.setPadding(p.default.EDGE_LEFT,o);case"paddingRight":case"pr":return e.setPadding(p.default.EDGE_RIGHT,o);case"paddingTop":case"pt":return e.setPadding(p.default.EDGE_TOP,o);case"paddingBottom":case"pb":return e.setPadding(p.default.EDGE_BOTTOM,o);case"margin":case"m":return e.setMargin(p.default.EDGE_ALL,o);case"marginLeft":case"ml":return e.setMargin(p.default.EDGE_LEFT,o);case"marginRight":case"mr":return e.setMargin(p.default.EDGE_RIGHT,o);case"marginTop":case"mt":return e.setMargin(p.default.EDGE_TOP,o);case"marginBottom":case"mb":return e.setMargin(p.default.EDGE_BOTTOM,o);default:return e["set"+f(r)](o)}}}))},y=function(e){return Object.keys(e).forEach((function(t){return void 0===e[t]?delete e[t]:{}}))},v={scaleFactor:100,requestReflow:function(){console.warn("Flex not initialized! Please report")},registerBox:function(){console.warn("Flex not initialized! Please report")},unregisterBox:function(){console.warn("Flex not initialized! Please report")}},w=o.createContext(v),_=o.createContext({node:null,size:[0,0]});function b(e){var t=o.useContext(e);return t||console.warn("You must place this hook/component under a <Flex/> component!"),t}function E(){return b(w).requestReflow}t.xu=function(e){var t=e.children,n=e.centerAnchor,r=e.flexDirection,i=e.flexDir,s=e.dir,u=e.alignContent,c=e.alignItems,f=e.alignSelf,m=e.align,v=e.justifyContent,I=e.justify,x=e.flexBasis,T=e.basis,P=e.flexGrow,O=e.grow,N=e.flexShrink,A=e.shrink,S=e.flexWrap,L=e.wrap,C=e.margin,R=e.m,k=e.marginBottom,D=e.marginLeft,M=e.marginRight,F=e.marginTop,j=e.mb,U=e.ml,G=e.mr,B=e.mt,V=e.padding,W=e.p,z=e.paddingBottom,H=e.paddingLeft,X=e.paddingRight,J=e.paddingTop,q=e.pb,$=e.pl,Y=e.pr,Q=e.pt,Z=e.height,K=e.width,ee=e.maxHeight,te=e.maxWidth,ne=e.minHeight,re=e.minWidth,ie=h.default(e,["children","centerAnchor","flexDirection","flexDir","dir","alignContent","alignItems","alignSelf","align","justifyContent","justify","flexBasis","basis","flexGrow","grow","flexShrink","shrink","flexWrap","wrap","margin","m","marginBottom","marginLeft","marginRight","marginTop","mb","ml","mr","mt","padding","p","paddingBottom","paddingLeft","paddingRight","paddingTop","pb","pl","pr","pt","height","width","maxHeight","maxWidth","minHeight","minWidth"]),oe=o.useMemo((function(){var e={flexDirection:r,flexDir:i,dir:s,alignContent:u,alignItems:c,alignSelf:f,align:m,justifyContent:v,justify:I,flexBasis:x,basis:T,flexGrow:P,grow:O,flexShrink:N,shrink:A,flexWrap:S,wrap:L,margin:C,m:R,marginBottom:k,marginLeft:D,marginRight:M,marginTop:F,mb:j,ml:U,mr:G,mt:B,padding:V,p:W,paddingBottom:z,paddingLeft:H,paddingRight:X,paddingTop:J,pb:q,pl:$,pr:Y,pt:Q,height:Z,width:K,maxHeight:ee,maxWidth:te,minHeight:ne,minWidth:re};return y(e),e}),[m,u,c,f,s,x,T,i,r,P,O,N,A,S,Z,I,v,R,C,k,D,M,F,ee,te,j,ne,re,U,G,B,W,V,z,H,X,J,q,$,Y,Q,K,L]),se=b(w),ae=se.registerBox,ue=se.unregisterBox,ce=se.scaleFactor,le=b(_).node,he=o.useRef(),de=o.useMemo((function(){return p.default.Node.create()}),[]),pe=E();o.useLayoutEffect((function(){g(de,oe,ce)}),[oe,de,ce]),o.useLayoutEffect((function(){if(he.current&&le)return le.insertChild(de,le.getChildCount()),ae(de,he.current,oe,n),function(){le.removeChild(de),ue(de)}}),[de,le,oe,n,ae,ue]),o.useLayoutEffect((function(){pe()}),[t,oe,pe]);var fe=o.useState([0,0]),me=fe[0],ge=fe[1],ye=1/ce;a.useFrame((function(){var e=("number"==typeof oe.width?oe.width:null)||de.getComputedWidth().valueOf()/ce,t=("number"==typeof oe.height?oe.height:null)||de.getComputedHeight().valueOf()/ce;(Math.abs(e-me[0])>ye||Math.abs(t-me[1])>ye)&&ge([e,t])}));var ve=o.useMemo((function(){return{node:de,size:me}}),[de,me]);return d.default.createElement("group",l.default({ref:he},ie),d.default.createElement(_.Provider,{value:ve},"function"==typeof t?t(me[0],me[1]):t))},t.kC=function(e){var t=e.size,n=void 0===t?[1,1,1]:t,r=e.yogaDirection,i=void 0===r?"ltr":r,s=e.plane,c=void 0===s?"xy":s,l=e.children,f=e.scaleFactor,m=void 0===f?100:f,v=e.onReflow,b=e.flexDirection,E=e.flexDir,I=e.dir,x=e.alignContent,T=e.alignItems,P=e.alignSelf,O=e.align,N=e.justifyContent,A=e.justify,S=e.flexBasis,L=e.basis,C=e.flexGrow,R=e.grow,k=e.flexShrink,D=e.shrink,M=e.flexWrap,F=e.wrap,j=e.margin,U=e.m,G=e.marginBottom,B=e.marginLeft,V=e.marginRight,W=e.marginTop,z=e.mb,H=e.ml,X=e.mr,J=e.mt,q=e.padding,$=e.p,Y=e.paddingBottom,Q=e.paddingLeft,Z=e.paddingRight,K=e.paddingTop,ee=e.pb,te=e.pl,ne=e.pr,re=e.pt,ie=e.height,oe=e.width,se=e.maxHeight,ae=e.maxWidth,ue=e.minHeight,ce=e.minWidth,le=h.default(e,["size","yogaDirection","plane","children","scaleFactor","onReflow","flexDirection","flexDir","dir","alignContent","alignItems","alignSelf","align","justifyContent","justify","flexBasis","basis","flexGrow","grow","flexShrink","shrink","flexWrap","wrap","margin","m","marginBottom","marginLeft","marginRight","marginTop","mb","ml","mr","mt","padding","p","paddingBottom","paddingLeft","paddingRight","paddingTop","pb","pl","pr","pt","height","width","maxHeight","maxWidth","minHeight","minWidth"]),he=o.useMemo((function(){var e={flexDirection:b,flexDir:E,dir:I,alignContent:x,alignItems:T,alignSelf:P,align:O,justifyContent:N,justify:A,flexBasis:S,basis:L,flexGrow:C,grow:R,flexShrink:k,shrink:D,flexWrap:M,wrap:F,margin:j,m:U,marginBottom:G,marginLeft:B,marginRight:V,marginTop:W,mb:z,ml:H,mr:X,mt:J,padding:q,p:$,paddingBottom:Y,paddingLeft:Q,paddingRight:Z,paddingTop:K,pb:ee,pl:te,pr:ne,pt:re,height:ie,width:oe,maxHeight:se,maxWidth:ae,minHeight:ue,minWidth:ce};return y(e),e}),[O,x,T,P,I,S,L,E,b,C,R,k,D,M,ie,A,N,U,j,G,B,V,W,se,ae,z,ue,ce,H,X,J,$,q,Y,Q,Z,K,ee,te,ne,re,oe,F]),de=o.useRef([]),pe=o.useCallback((function(e,t,n,r){void 0===r&&(r=!1);var i=de.current.findIndex((function(t){return t.node===e}));-1!==i&&de.current.splice(i,1),de.current.push({group:t,node:e,flexProps:n,centerAnchor:r})}),[]),fe=o.useCallback((function(e){var t=de.current.findIndex((function(t){return t.node===e}));-1!==t&&de.current.splice(t,1)}),[]),me=o.useMemo((function(){return p.default.Node.create()}),[]);o.useLayoutEffect((function(){g(me,he,m)}),[me,he,m]);var ge=a.useThree().invalidate,ye=o.useRef(!0),ve=o.useCallback((function(){ye.current=!0,ge()}),[ge]);o.useLayoutEffect((function(){ve()}),[l,he,ve]);var we=o.useMemo((function(){return new u.Box3}),[]),_e=o.useMemo((function(){return new u.Vector3}),[]),be=c[0],Ee=c[1],Ie=function(e){switch(e){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(c),xe=function(e,t){switch(t){case"xy":return[e[0],e[1]];case"yz":return[e[1],e[2]];case"xz":return[e[0],e[2]]}}(n,c),Te=xe[0],Pe=xe[1],Oe="ltr"===i?p.default.DIRECTION_LTR:"rtl"===i?p.default.DIRECTION_RTL:i,Ne=o.useMemo((function(){return{requestReflow:ve,registerBox:pe,unregisterBox:fe,scaleFactor:m}}),[ve,pe,fe,m]),Ae=o.useMemo((function(){return{node:me,size:[Te,Pe]}}),[me,Te,Pe]);return a.useFrame((function(){ye.current&&(ye.current=!1,function(){de.current.forEach((function(e){var t=e.group,n=e.node,r=e.flexProps,i="number"==typeof r.width?r.width*m:r.width,o="number"==typeof r.height?r.height*m:r.height;void 0!==i&&void 0!==o?(n.setWidth(i),n.setHeight(o)):(we.setFromObject(t).getSize(_e),n.setWidth(i||_e[be]*m),n.setHeight(o||_e[Ee]*m))})),me.calculateLayout(Te*m,Pe*m,Oe);var e=0,t=0,n=0,r=0;de.current.forEach((function(i){var o,s=i.group,a=i.node,c=i.centerAnchor,l=a.getComputedLayout(),h=l.left,d=l.top,p=l.width,f=l.height,g=function(e){var t=e.x,n=e.y,r=e.z;return new u.Vector3(t,n,r)}(((o={})[be]=(h+(c?p/2:0))/m,o[Ee]=-(d+(c?f/2:0))/m,o[Ie]=0,o));e=Math.min(e,h),n=Math.min(n,d),t=Math.max(t,h+p),r=Math.max(r,d+f),s.position.copy(g)})),v&&v((t-e)/m,(r-n)/m),ge()}())})),d.default.createElement("group",le,d.default.createElement(w.Provider,{value:Ne},d.default.createElement(_.Provider,{value:Ae},l)))}},6375:function(e){"use strict";e.exports={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2}},5009:function(e,t,n){"use strict";var r=n(2137),i=n(8113),o=!1,s=null;if(i({},(function(e,t){if(!o){if(o=!0,e)throw e;s=t}})),!o)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");e.exports=r(s.bind,s.lib)},2137:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(6375),u=function(){function e(t,n,r,i,o,a){s(this,e),this.left=t,this.right=n,this.top=r,this.bottom=i,this.width=o,this.height=a}return i(e,[{key:"fromJS",value:function(e){e(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),e}(),c=function(){function e(t,n){s(this,e),this.width=t,this.height=n}return i(e,null,[{key:"fromJS",value:function(t){return new e(t.width,t.height)}}]),i(e,[{key:"fromJS",value:function(e){e(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),e}(),l=function(){function e(t,n){s(this,e),this.unit=t,this.value=n}return i(e,[{key:"fromJS",value:function(e){e(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case a.UNIT_POINT:return String(this.value);case a.UNIT_PERCENT:return this.value+"%";case a.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),e}();e.exports=function(e,t){function n(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.call.apply(n,[this,r].concat(t))}}for(var i=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],s=function(){var e,r=i[h],s=(o(e={},a.UNIT_POINT,t.Node.prototype[r]),o(e,a.UNIT_PERCENT,t.Node.prototype[r+"Percent"]),o(e,a.UNIT_AUTO,t.Node.prototype[r+"Auto"]),e);n(t.Node.prototype,r,(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,u,c=n.pop(),h=void 0,d=void 0;if("auto"===c)h=a.UNIT_AUTO,d=void 0;else if(c instanceof l)h=c.unit,d=c.valueOf();else if(h="string"===typeof c&&c.endsWith("%")?a.UNIT_PERCENT:a.UNIT_POINT,d=parseFloat(c),!Number.isNaN(c)&&Number.isNaN(d))throw new Error("Invalid value "+c+" for "+r);if(!s[h])throw new Error('Failed to execute "'+r+"\": Unsupported unit '"+c+"'");return void 0!==d?(o=s[h]).call.apply(o,[this].concat(n,[d])):(u=s[h]).call.apply(u,[this].concat(n))}))},h=0;h<i.length;h++)s();return n(t.Config.prototype,"free",(function(){t.Config.destroy(this)})),n(t.Node,"create",(function(e,n){return n?t.Node.createWithConfig(n):t.Node.createDefault()})),n(t.Node.prototype,"free",(function(){t.Node.destroy(this)})),n(t.Node.prototype,"freeRecursive",(function(){for(var e=0,t=this.getChildCount();e<t;++e)this.getChild(0).freeRecursive();this.free()})),n(t.Node.prototype,"setMeasureFunc",(function(e,t){return t?e.call(this,(function(){return c.fromJS(t.apply(void 0,arguments))})):this.unsetMeasureFunc()})),n(t.Node.prototype,"calculateLayout",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.DIRECTION_LTR;return e.call(this,t,n,r)})),r({Config:t.Config,Node:t.Node,Layout:e("Layout",u),Size:e("Size",c),Value:e("Value",l),getInstanceCount:function(){return t.getInstanceCount.apply(t,arguments)}},a)}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}}}]);