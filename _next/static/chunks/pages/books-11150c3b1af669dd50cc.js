_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"5AOK":function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),o=n("q1tI"),i=n("ODXe"),s=n("zLVn");function a(e,t){if(null==e)return{};var n,r,o=Object(s.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=n("rePB"),u=n("Womt"),l=n("rfrl"),d=n("8OBN"),h=n("q0wb"),p=n("ncBx"),f=n("tEco"),m=n("GqZf"),g=n("O2zg"),v=n("P6es");var b=u.Math.degToRad;function y(e){var t=e.width,n=e.height,o=e.depth,i=Object(g.a)(Object(v.a)("/textures/wood/Wood_Plywood_Front_001_basecolor.jpg")),s=Object(g.a)(Object(v.a)("/textures/wood/Wood_Plywood_Front_001_roughness.jpg")),a=Object(g.a)(Object(v.a)("/textures/wood/Wood_Plywood_Front_001_normal.jpg")),c=Object(g.a)(Object(v.a)("/textures/wood/Wood_Plywood_Front_001_ambientOcclusion.jpg"));i.wrapS=u.RepeatWrapping,i.wrapT=u.RepeatWrapping;return i.repeat.set(1,1),Object(r.jsxs)("mesh",{receiveShadow:!0,castShadow:!0,children:[Object(r.jsx)("boxGeometry",{name:"surface",args:[t,n,o]}),Object(r.jsx)("meshStandardMaterial",{roughnessMap:s,aoMap:c,normalMap:a,map:i,color:"#443a2c",attach:"material"})]})}function O(e){var t=e.children,n=e.position,i=void 0===n?[0,0,0]:n,s=e.height,a=void 0===s?2:s,c=e.depth,u=void 0===c?30:c,l=e.coverRotation,d=void 0===l?90:l,h=o.Children.toArray(t),p=function(e){var t=Math.ceil(e/90),n=90*t-e;return t%2==0?n:90-n}(d),f=p>0?2:0,g=function(e,t,n){for(var r=0,o=0,i=0;i<e.length;i++){var s=t(e[i]);n>r+s?r+=s:(o+=1,r=s)}return o+(r>0?1:0)}(h,(function(e){var t=Math.sin(b(p))*e.props.depth,n=Math.sin(b(90-p))*e.props.width;return f+t+n}),200);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.Flex,{size:[200,300,0],alignItems:"flex-start",justifyContent:"flex-start",position:[i[0],i[1],i[2]+3],flexDirection:"row",flexWrap:"wrap",children:h.map((function(e,t){return Object(r.jsx)(m.Box,{flexWrap:"no-wrap",centerAnchor:!0,height:30,marginRight:f,alignItems:"flex-end",justifyContent:"flex-end",rotation:[0,b(d),0],children:Object(r.jsx)(m.Box,{centerAnchor:!0,children:e})},t)}))}),Object(r.jsx)(m.Flex,{size:[200,0,0],position:[i[0],i[1]-31,i[2]],flexDirection:"column",children:Array(g).fill(null).map((function(e,t){return Object(r.jsx)(m.Box,{centerAnchor:!0,marginTop:0,height:30,children:Object(r.jsx)(y,{width:200,height:a,depth:u})},t)}))})]})}var w=n("r2m2");const j={0:"151_norm.JPG",1:"152_norm.JPG",2:"153_norm.JPG",3:"154_norm.JPG",4:"155_norm.JPG",5:"156_norm.JPG",6:"157_norm.JPG",7:"158_norm.JPG",8:"159_norm.JPG",9:"160_norm.JPG",10:"161_norm.JPG",11:"162_norm.JPG",12:"163_norm.JPG",13:"164_norm.JPG",14:"165_norm.JPG",15:"166_norm.JPG",16:"167_norm.JPG",17:"168_norm.JPG",18:"169_norm.JPG",19:"170_norm.JPG",20:"171_norm.JPG",21:"172_norm.JPG",22:"173_norm.JPG",23:"174_norm.jpg",24:"175_norm.JPG",25:"176_norm.JPG",26:"177_norm.JPG",27:"178_norm.JPG",28:"179_norm.JPG",29:"180_norm.JPG",30:"181_norm.JPG",31:"182_norm.JPG",32:"183_norm.JPG",33:"184_norm.JPG",34:"185_norm.JPG",35:"186_norm.JPG",36:"187_norm.JPG",37:"188_norm.JPG",38:"189_norm.JPG",39:"190_norm.JPG",40:"191_norm.JPG",41:"192_norm.JPG",42:"193_norm.JPG",43:"194_norm.JPG",44:"195_norm.JPG",45:"196_norm.JPG",46:"197_norm.JPG",47:"198_norm.JPG",48:"199_norm.JPG",49:"200_norm.JPG",50:"201_norm.jpg",51:"202_norm.jpg",52:"203_norm.jpg",53:"204_norm.jpg",54:"205_norm.jpg",55:"206_norm.jpg",56:"207_norm.jpg",57:"208_norm.jpg",58:"209_norm.jpg",59:"210_norm.jpg",60:"211_norm.jpg",61:"212_norm.jpg",62:"213_norm.jpg",63:"214_norm.jpg",64:"215_norm.jpg",65:"216_norm.jpg",66:"217_norm.jpg",67:"218_norm.jpg",68:"219_norm.jpg",69:"220_norm.jpg",70:"221_norm.jpg",71:"222_norm.jpg",72:"223_norm.jpg",73:"224_norm.jpg",74:"225_norm.jpg",75:"226_norm.jpg"},x=j[0];var _=n("wx14");function E(e){const t=e+"BufferGeometry";return o.forwardRef(({args:e,children:n,...r},i)=>o.createElement("mesh",Object(_.a)({ref:i},r),o.createElement(t,{attach:"geometry",args:e}),n))}E("box"),E("circle"),E("cone"),E("cylinder"),E("sphere");const I=E("plane");E("tube"),E("torus"),E("torusKnot"),E("tetrahedron"),E("ring"),E("polyhedron"),E("icosahedron"),E("octahedron"),E("dodecahedron"),E("extrude"),E("lathe"),E("parametric");function T(){var e=function(e=0,t={}){const{repeat:n=[1,1],anisotropy:r=1,offset:i=[0,0]}=t,s=o.useMemo(()=>Object.keys(j).length,[]),a="https://rawcdn.githack.com/emmelleppi/normal-maps/f24c810fc1d86b5b1e5dfea914b668f70b5f2923/normals/"+(j[e]||x),c=Object(g.a)(a);return o.useEffect(()=>{c&&(c.wrapS=c.wrapT=u.RepeatWrapping,c.repeat=new u.Vector2(n[0],n[1]),c.offset=new u.Vector2(i[0],i[1]),c.anisotropy=r)},[c,r,n,i]),[c,a,s]}(63,{offset:[0,0],repeat:[20,20],anisotropy:8}),t=Object(i.a)(e,1)[0];return Object(r.jsx)(I,{args:[1e3,600],position:[0,150,0],receiveShadow:!0,children:Object(r.jsx)("meshStandardMaterial",{color:"#202020",roughness:.6,metalness:.3,normalMap:t})})}var P=u.Math.degToRad;function k(){var e=Object(g.a)(Object(v.a)("/textures/floor/Wood_Floor_009_basecolor.jpg")),t=Object(g.a)(Object(v.a)("/textures/floor/Wood_Floor_009_roughness.jpg")),n=Object(g.a)(Object(v.a)("/textures/floor/Wood_Floor_009_ambientOcclusion.jpg"));e.wrapS=u.RepeatWrapping,e.wrapT=u.RepeatWrapping;e.repeat.set(8,8);return Object(r.jsx)(I,{args:[1e3,600],rotation:[P(-90),0,0],position:[0,-100,300],receiveShadow:!0,children:Object(r.jsx)("meshStandardMaterial",{roughnessMap:t,aoMap:n,map:e})})}var A=Uint8Array,N=Uint16Array,R=Uint32Array,C=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=function(e,t){for(var n=new N(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new R(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},D=M(C,2),F=D[0],B=D[1];F[28]=258,B[258]=28;for(var G=M(S,0),U=G[0],V=(G[1],new N(32768)),W=0;W<32768;++W){var z=(43690&W)>>>1|(21845&W)<<1;z=(61680&(z=(52428&z)>>>2|(13107&z)<<2))>>>4|(3855&z)<<4,V[W]=((65280&z)>>>8|(255&z)<<8)>>>1}var J=function(e,t,n){for(var r=e.length,o=0,i=new N(t);o<r;++o)++i[e[o]-1];var s,a=new N(t);for(o=0;o<t;++o)a[o]=a[o-1]+i[o-1]<<1;if(n){s=new N(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var u=o<<4|e[o],l=t-e[o],d=a[e[o]-1]++<<l,h=d|(1<<l)-1;d<=h;++d)s[V[d]>>>c]=u}else for(s=new N(r),o=0;o<r;++o)e[o]&&(s[o]=V[a[e[o]-1]++]>>>15-e[o]);return s},q=new A(288);for(W=0;W<144;++W)q[W]=8;for(W=144;W<256;++W)q[W]=9;for(W=256;W<280;++W)q[W]=7;for(W=280;W<288;++W)q[W]=8;var X=new A(32);for(W=0;W<32;++W)X[W]=5;var H=J(q,9,1),Y=J(X,5,1),K=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Q=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},$=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Z=function(e){return(e/8|0)+(7&e&&1)},ee=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof N?N:e instanceof R?R:A)(n-t);return r.set(e.subarray(t,n)),r},te=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new A(0);var o=!t||n,i=!n||n.i;n||(n={}),t||(t=new A(3*r));var s=function(e){var n=t.length;if(e>n){var r=new A(Math.max(2*n,e));r.set(t),t=r}},a=n.f||0,c=n.p||0,u=n.b||0,l=n.l,d=n.d,h=n.m,p=n.n,f=8*r;do{if(!l){n.f=a=Q(e,c,1);var m=Q(e,c+1,3);if(c+=3,!m){var g=e[(T=Z(c)+4)-4]|e[T-3]<<8,v=T+g;if(v>r){if(i)throw"unexpected EOF";break}o&&s(u+g),t.set(e.subarray(T,v),u),n.b=u+=g,n.p=c=8*v;continue}if(1==m)l=H,d=Y,h=9,p=5;else{if(2!=m)throw"invalid block type";var b=Q(e,c,31)+257,y=Q(e,c+10,15)+4,O=b+Q(e,c+5,31)+1;c+=14;for(var w=new A(O),j=new A(19),x=0;x<y;++x)j[L[x]]=Q(e,c+3*x,7);c+=3*y;var _=K(j),E=(1<<_)-1,I=J(j,_,1);for(x=0;x<O;){var T,P=I[Q(e,c,E)];if(c+=15&P,(T=P>>>4)<16)w[x++]=T;else{var k=0,N=0;for(16==T?(N=3+Q(e,c,3),c+=2,k=w[x-1]):17==T?(N=3+Q(e,c,7),c+=3):18==T&&(N=11+Q(e,c,127),c+=7);N--;)w[x++]=k}}var R=w.subarray(0,b),M=w.subarray(b);h=K(R),p=K(M),l=J(R,h,1),d=J(M,p,1)}if(c>f){if(i)throw"unexpected EOF";break}}o&&s(u+131072);for(var D=(1<<h)-1,B=(1<<p)-1,G=c;;G=c){var V=(k=l[$(e,c)&D])>>>4;if((c+=15&k)>f){if(i)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(V<256)t[u++]=V;else{if(256==V){G=c,l=null;break}var W=V-254;if(V>264){var z=C[x=V-257];W=Q(e,c,(1<<z)-1)+F[x],c+=z}var q=d[$(e,c)&B],X=q>>>4;if(!q)throw"invalid distance";c+=15&q;M=U[X];if(X>3){z=S[X];M+=$(e,c)&(1<<z)-1,c+=z}if(c>f){if(i)throw"unexpected EOF";break}o&&s(u+131072);for(var te=u+W;u<te;u+=4)t[u]=t[u-M],t[u+1]=t[u+1-M],t[u+2]=t[u+2-M],t[u+3]=t[u+3-M];u=te}}n.l=l,n.p=G,n.b=u,l&&(a=1,n.m=h,n.d=d,n.n=p)}while(!a);return u==t.length?t:ee(t,0,u)},ne=new A(0),re=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function oe(e,t){return te((re(e),e.subarray(2,-4)),t)}var ie="undefined"!=typeof TextDecoder&&new TextDecoder;try{ie.decode(ne,{stream:!0}),1}catch(tt){}class se extends u.Curve{constructor(e,t,n,r,o){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=o||this.knots.length-1;for(let i=0;i<n.length;++i){const e=n[i];this.controlPoints[i]=new u.Vector4(e.x,e.y,e.z,e.w)}}getPoint(e,t){const n=t||new u.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=function(e,t,n,r){const o=this.findSpan(e,r,t),i=this.calcBasisFunctions(o,r,e,t),s=new u.Vector4(0,0,0,0);for(let a=0;a<=e;++a){const t=n[o-e+a],r=i[a],c=t.w*r;s.x+=t.x*c,s.y+=t.y*c,s.z+=t.z*c,s.w+=t.w*r}return s}(this.degree,this.knots,this.controlPoints,r);return 1!=o.w&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)}getTangent(e,t){const n=t||new u.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=function(e,t,n,r,o){const i=this.calcBSplineDerivatives(e,t,n,r,o);return this.calcRationalCurveDerivatives(i)}(this.degree,this.knots,this.controlPoints,r,1);return n.copy(o[1]).normalize(),n}}let ae,ce,ue;class le extends u.Loader{constructor(e){super(e)}load(e,t,n,r){const o=this,i=""===o.path?u.LoaderUtils.extractUrlBase(e):o.path,s=new u.FileLoader(this.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(n){try{t(o.parse(n,i))}catch(tt){r?r(tt):console.error(tt),o.manager.itemError(e)}}),n,r)}parse(e,t){if(function(e){const t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===Te(e,0,t.length)}(e))ae=(new me).parse(e);else{const t=Te(e);if(!function(e){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(t){const r=e[t-1];return e=e.slice(n+t),n++,r}for(let o=0;o<t.length;++o){if(r(1)===t[o])return!1}return!0}(t))throw new Error("THREE.FBXLoader: Unknown format.");if(be(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+be(t));ae=(new fe).parse(t)}const n=new u.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new de(n,this.manager).parse(ae)}}class de{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){ce=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),o=(new he).parse(r);return this.parseScene(r,o,n),ue}parseConnections(){const e=new Map;if("Connections"in ae){ae.Connections.connections.forEach((function(t){const n=t[0],r=t[1],o=t[2];e.has(n)||e.set(n,{parents:[],children:[]});const i={ID:r,relationship:o};e.get(n).parents.push(i),e.has(r)||e.set(r,{parents:[],children:[]});const s={ID:n,relationship:o};e.get(r).children.push(s)}))}return e}parseImages(){const e={},t={};if("Video"in ae.Objects){const n=ae.Objects.Video;for(const r in n){const o=n[r];if(e[parseInt(r)]=o.RelativeFilename||o.Filename,"Content"in o){const e=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,i="string"===typeof o.Content&&""!==o.Content;if(e||i){const e=this.parseImage(n[r]);t[o.RelativeFilename||o.Filename]=e}}}}for(const n in e){const r=e[n];void 0!==t[r]?e[n]=t[r]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let o;switch(r){case"bmp":o="image/bmp";break;case"jpg":case"jpeg":o="image/jpeg";break;case"png":o="image/png";break;case"tif":o="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",n),o="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"===typeof t)return"data:"+o+";base64,"+t;{const e=new Uint8Array(t);return window.URL.createObjectURL(new Blob([e],{type:o}))}}parseTextures(e){const t=new Map;if("Texture"in ae.Objects){const n=ae.Objects.Texture;for(const r in n){const o=this.parseTexture(n[r],e);t.set(parseInt(r),o)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const r=e.WrapModeU,o=e.WrapModeV,i=void 0!==r?r.value:0,s=void 0!==o?o.value:0;if(n.wrapS=0===i?u.RepeatWrapping:u.ClampToEdgeWrapping,n.wrapT=0===s?u.RepeatWrapping:u.ClampToEdgeWrapping,"Scaling"in e){const t=e.Scaling.value;n.repeat.x=t[0],n.repeat.y=t[1]}return n}loadTexture(e,t){let n;const r=this.textureLoader.path,o=ce.get(e.id).children;let i;void 0!==o&&o.length>0&&void 0!==t[o[0].ID]&&(n=t[o[0].ID],0!==n.indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));const s=e.FileName.slice(-3).toLowerCase();if("tga"===s){const t=this.manager.getHandler(".tga");null===t?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),i=new u.Texture):i=t.load(n)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),i=new u.Texture):i=this.textureLoader.load(n);return this.textureLoader.setPath(r),i}parseMaterials(e){const t=new Map;if("Material"in ae.Objects){const n=ae.Objects.Material;for(const r in n){const o=this.parseMaterial(n[r],e);null!==o&&t.set(parseInt(r),o)}}return t}parseMaterial(e,t){const n=e.id,r=e.attrName;let o=e.ShadingModel;if("object"===typeof o&&(o=o.value),!ce.has(n))return null;const i=this.parseParameters(e,t,n);let s;switch(o.toLowerCase()){case"phong":s=new u.MeshPhongMaterial;break;case"lambert":s=new u.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),s=new u.MeshPhongMaterial}return s.setValues(i),s.name=r,s}parseParameters(e,t,n){const r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=(new u.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(r.color=(new u.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=(new u.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(r.emissive=(new u.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=(new u.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(r.specular=(new u.Color).fromArray(e.SpecularColor.value));const o=this;return ce.get(n).children.forEach((function(e){const n=e.relationship;switch(n){case"Bump":r.bumpMap=o.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":r.aoMap=o.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=o.getTexture(t,e.ID),r.map.encoding=u.sRGBEncoding;break;case"DisplacementColor":r.displacementMap=o.getTexture(t,e.ID);break;case"EmissiveColor":r.emissiveMap=o.getTexture(t,e.ID),r.emissiveMap.encoding=u.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=o.getTexture(t,e.ID);break;case"ReflectionColor":r.envMap=o.getTexture(t,e.ID),r.envMap.mapping=u.EquirectangularReflectionMapping,r.envMap.encoding=u.sRGBEncoding;break;case"SpecularColor":r.specularMap=o.getTexture(t,e.ID),r.specularMap.encoding=u.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=o.getTexture(t,e.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n)}})),r}getTexture(e,t){return"LayeredTexture"in ae.Objects&&t in ae.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=ce.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in ae.Objects){const n=ae.Objects.Deformer;for(const r in n){const o=n[r],i=ce.get(parseInt(r));if("Skin"===o.attrType){const t=this.parseSkeleton(i,n);t.ID=r,i.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),t.geometryID=i.parents[0].ID,e[r]=t}else if("BlendShape"===o.attrType){const e={id:r};e.rawTargets=this.parseMorphTargets(i,n),e.id=r,i.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=e}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach((function(e){const r=t[e.ID];if("Cluster"!==r.attrType)return;const o={ID:e.ID,indices:[],weights:[],transformLink:(new u.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(o.indices=r.Indexes.a,o.weights=r.Weights.a),n.push(o)})),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let r=0;r<e.children.length;r++){const o=e.children[r],i=t[o.ID],s={name:i.attrName,initialWeight:i.DeformPercent,id:i.id,fullWeights:i.FullWeights.a};if("BlendShapeChannel"!==i.attrType)return;s.geoID=ce.get(parseInt(o.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(s)}return n}parseScene(e,t,n){ue=new u.Group;const r=this.parseModels(e.skeletons,t,n),o=ae.Objects.Model,i=this;r.forEach((function(e){const t=o[e.ID];i.setLookAtProperties(e,t);ce.get(e.ID).parents.forEach((function(t){const n=r.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&ue.add(e)})),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),this.setupMorphMaterials(),ue.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);const t=_e(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));const s=(new pe).parse();1===ue.children.length&&ue.children[0].isGroup&&(ue.children[0].animations=s,ue=ue.children[0]),ue.animations=s}parseModels(e,t,n){const r=new Map,o=ae.Objects.Model;for(const i in o){const s=parseInt(i),a=o[i],c=ce.get(s);let l=this.buildSkeleton(c,e,s,a.attrName);if(!l){switch(a.attrType){case"Camera":l=this.createCamera(c);break;case"Light":l=this.createLight(c);break;case"Mesh":l=this.createMesh(c,t,n);break;case"NurbsCurve":l=this.createCurve(c,t);break;case"LimbNode":case"Root":l=new u.Bone;break;case"Null":default:l=new u.Group}l.name=a.attrName?u.PropertyBinding.sanitizeNodeName(a.attrName):"",l.ID=s}this.getTransformData(l,a),r.set(s,l)}return r}buildSkeleton(e,t,n,r){let o=null;return e.parents.forEach((function(e){for(const i in t){const s=t[i];s.rawBones.forEach((function(t,i){if(t.ID===e.ID){const e=o;o=new u.Bone,o.matrixWorld.copy(t.transformLink),o.name=r?u.PropertyBinding.sanitizeNodeName(r):"",o.ID=n,s.bones[i]=o,null!==e&&o.add(e)}}))}})),o}createCamera(e){let t,n;if(e.children.forEach((function(e){const t=ae.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new u.Object3D;else{let e=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(e=1);let r=1;void 0!==n.NearPlane&&(r=n.NearPlane.value/1e3);let o=1e3;void 0!==n.FarPlane&&(o=n.FarPlane.value/1e3);let i=window.innerWidth,s=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(i=n.AspectWidth.value,s=n.AspectHeight.value);const a=i/s;let c=45;void 0!==n.FieldOfView&&(c=n.FieldOfView.value);const l=n.FocalLength?n.FocalLength.value:null;switch(e){case 0:t=new u.PerspectiveCamera(c,a,r,o),null!==l&&t.setFocalLength(l);break;case 1:t=new u.OrthographicCamera(-i/2,i/2,s/2,-s/2,r,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+e+"."),t=new u.Object3D}}return t}createLight(e){let t,n;if(e.children.forEach((function(e){const t=ae.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new u.Object3D;else{let e;e=void 0===n.LightType?0:n.LightType.value;let r=16777215;void 0!==n.Color&&(r=(new u.Color).fromArray(n.Color.value));let o=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(o=0);let i=0;void 0!==n.FarAttenuationEnd&&(i=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);const s=1;switch(e){case 0:t=new u.PointLight(r,o,i,s);break;case 1:t=new u.DirectionalLight(r,o);break;case 2:let e=Math.PI/3;void 0!==n.InnerAngle&&(e=u.MathUtils.degToRad(n.InnerAngle.value));let a=0;void 0!==n.OuterAngle&&(a=u.MathUtils.degToRad(n.OuterAngle.value),a=Math.max(a,1)),t=new u.SpotLight(r,o,i,e,a,s);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new u.PointLight(r,o)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,n){let r,o=null,i=null;const s=[];return e.children.forEach((function(e){t.has(e.ID)&&(o=t.get(e.ID)),n.has(e.ID)&&s.push(n.get(e.ID))})),s.length>1?i=s:s.length>0?i=s[0]:(i=new u.MeshPhongMaterial({color:13421772}),s.push(i)),"color"in o.attributes&&s.forEach((function(e){e.vertexColors=!0})),o.FBX_Deformer?(s.forEach((function(e){e.skinning=!0})),r=new u.SkinnedMesh(o,i),r.normalizeSkinWeights()):r=new u.Mesh(o,i),r}createCurve(e,t){const n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new u.LineBasicMaterial({color:3342591,linewidth:1});return new u.Line(n,r)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?Ee(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){if("LookAtProperty"in t){ce.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){const n=ae.Objects.Model[t.ID];if("Lcl_Translation"in n){const t=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(t),ue.add(e.target)):e.lookAt((new u.Vector3).fromArray(t))}}}))}}bindSkeleton(e,t,n){const r=this.parsePoseNodes();for(const o in e){const i=e[o];ce.get(parseInt(i.ID)).parents.forEach((function(e){if(t.has(e.ID)){const t=e.ID;ce.get(t).parents.forEach((function(e){if(n.has(e.ID)){n.get(e.ID).bind(new u.Skeleton(i.bones),r[e.ID])}}))}}))}}parsePoseNodes(){const e={};if("Pose"in ae.Objects){const t=ae.Objects.Pose;for(const n in t)if("BindPose"===t[n].attrType){const r=t[n].PoseNode;Array.isArray(r)?r.forEach((function(t){e[t.Node]=(new u.Matrix4).fromArray(t.Matrix.a)})):e[r.Node]=(new u.Matrix4).fromArray(r.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in ae&&"AmbientColor"in ae.GlobalSettings){const e=ae.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],r=e[2];if(0!==t||0!==n||0!==r){const e=new u.Color(t,n,r);ue.add(new u.AmbientLight(e,1))}}}setupMorphMaterials(){const e=this;ue.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))}setupMorphMaterial(e,t,n){const r=e.uuid,o=t.uuid;let i=!1;if(ue.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===o&&e.uuid!==r&&(i=!0)})):e.material.uuid===o&&e.uuid!==r&&(i=!0))})),!0===i){const r=t.clone();r.morphTargets=!0,void 0===n?e.material=r:e.material[n]=r}else t.morphTargets=!0}}class he{parse(e){const t=new Map;if("Geometry"in ae.Objects){const n=ae.Objects.Geometry;for(const r in n){const o=ce.get(parseInt(r)),i=this.parseGeometry(o,n[r],e);t.set(parseInt(r),i)}}return t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const r=n.skeletons,o=[],i=e.parents.map((function(e){return ae.Objects.Model[e.ID]}));if(0===i.length)return;const s=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&o.push(n.morphTargets[e.ID])}));const a=i[0],c={};"RotationOrder"in a&&(c.eulerOrder=Ee(a.RotationOrder.value)),"InheritType"in a&&(c.inheritType=parseInt(a.InheritType.value)),"GeometricTranslation"in a&&(c.translation=a.GeometricTranslation.value),"GeometricRotation"in a&&(c.rotation=a.GeometricRotation.value),"GeometricScaling"in a&&(c.scale=a.GeometricScaling.value);const u=_e(c);return this.genGeometry(t,s,o,u)}genGeometry(e,t,n,r){const o=new u.BufferGeometry;e.attrName&&(o.name=e.attrName);const i=this.parseGeoNode(e,t),s=this.genBuffers(i),a=new u.Float32BufferAttribute(s.vertex,3);if(a.applyMatrix4(r),o.setAttribute("position",a),s.colors.length>0&&o.setAttribute("color",new u.Float32BufferAttribute(s.colors,3)),t&&(o.setAttribute("skinIndex",new u.Uint16BufferAttribute(s.weightsIndices,4)),o.setAttribute("skinWeight",new u.Float32BufferAttribute(s.vertexWeights,4)),o.FBX_Deformer=t),s.normal.length>0){const e=(new u.Matrix3).getNormalMatrix(r),t=new u.Float32BufferAttribute(s.normal,3);t.applyNormalMatrix(e),o.setAttribute("normal",t)}if(s.uvs.forEach((function(e,t){let n="uv"+(t+1).toString();0===t&&(n="uv"),o.setAttribute(n,new u.Float32BufferAttribute(s.uvs[t],2))})),i.material&&"AllSame"!==i.material.mappingType){let e=s.materialIndex[0],t=0;if(s.materialIndex.forEach((function(n,r){n!==e&&(o.addGroup(t,r-t,e),e=n,t=r)})),o.groups.length>0){const t=o.groups[o.groups.length-1],n=t.start+t.count;n!==s.materialIndex.length&&o.addGroup(n,s.materialIndex.length-n,e)}0===o.groups.length&&o.addGroup(0,s.materialIndex.length,s.materialIndex[0])}return this.addMorphTargets(o,e,n,r),o}parseGeoNode(e,t){const n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,o){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[o]})}))}))),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,o=!1,i=[],s=[],a=[],c=[],u=[],l=[];const d=this;return e.vertexIndices.forEach((function(h,p){let f,m=!1;h<0&&(h^=-1,m=!0);let g=[],v=[];if(i.push(3*h,3*h+1,3*h+2),e.color){const t=we(p,n,h,e.color);a.push(t[0],t[1],t[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){v.push(e.weight),g.push(e.id)})),v.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);const e=[0,0,0,0],t=[0,0,0,0];v.forEach((function(n,r){let o=n,i=g[r];t.forEach((function(t,n,r){if(o>t){r[n]=o,o=t;const s=e[n];e[n]=i,i=s}}))})),g=e,v=t}for(;v.length<4;)v.push(0),g.push(0);for(let e=0;e<4;++e)u.push(v[e]),l.push(g[e])}if(e.normal){const t=we(p,n,h,e.normal);s.push(t[0],t[1],t[2])}e.material&&"AllSame"!==e.material.mappingType&&(f=we(p,n,h,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){const r=we(p,n,h,e);void 0===c[t]&&(c[t]=[]),c[t].push(r[0]),c[t].push(r[1])})),r++,m&&(d.genFace(t,e,i,f,s,a,c,u,l,r),n++,r=0,i=[],s=[],a=[],c=[],u=[],l=[])})),t}genFace(e,t,n,r,o,i,s,a,c,u){for(let l=2;l<u;l++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(l-1)]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+2]]),e.vertex.push(t.vertexPositions[n[3*l]]),e.vertex.push(t.vertexPositions[n[3*l+1]]),e.vertex.push(t.vertexPositions[n[3*l+2]]),t.skeleton&&(e.vertexWeights.push(a[0]),e.vertexWeights.push(a[1]),e.vertexWeights.push(a[2]),e.vertexWeights.push(a[3]),e.vertexWeights.push(a[4*(l-1)]),e.vertexWeights.push(a[4*(l-1)+1]),e.vertexWeights.push(a[4*(l-1)+2]),e.vertexWeights.push(a[4*(l-1)+3]),e.vertexWeights.push(a[4*l]),e.vertexWeights.push(a[4*l+1]),e.vertexWeights.push(a[4*l+2]),e.vertexWeights.push(a[4*l+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(l-1)]),e.weightsIndices.push(c[4*(l-1)+1]),e.weightsIndices.push(c[4*(l-1)+2]),e.weightsIndices.push(c[4*(l-1)+3]),e.weightsIndices.push(c[4*l]),e.weightsIndices.push(c[4*l+1]),e.weightsIndices.push(c[4*l+2]),e.weightsIndices.push(c[4*l+3])),t.color&&(e.colors.push(i[0]),e.colors.push(i[1]),e.colors.push(i[2]),e.colors.push(i[3*(l-1)]),e.colors.push(i[3*(l-1)+1]),e.colors.push(i[3*(l-1)+2]),e.colors.push(i[3*l]),e.colors.push(i[3*l+1]),e.colors.push(i[3*l+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(o[0]),e.normal.push(o[1]),e.normal.push(o[2]),e.normal.push(o[3*(l-1)]),e.normal.push(o[3*(l-1)+1]),e.normal.push(o[3*(l-1)+2]),e.normal.push(o[3*l]),e.normal.push(o[3*l+1]),e.normal.push(o[3*l+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(s[n][0]),e.uvs[n].push(s[n][1]),e.uvs[n].push(s[n][2*(l-1)]),e.uvs[n].push(s[n][2*(l-1)+1]),e.uvs[n].push(s[n][2*l]),e.uvs[n].push(s[n][2*l+1])}))}addMorphTargets(e,t,n,r){if(0===n.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const o=this;n.forEach((function(n){n.rawTargets.forEach((function(n){const i=ae.Objects.Geometry[n.geoID];void 0!==i&&o.genMorphGeometry(e,t,i,r,n.name)}))}))}genMorphGeometry(e,t,n,r,o){const i=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],s=void 0!==n.Vertices?n.Vertices.a:[],a=void 0!==n.Indexes?n.Indexes.a:[],c=3*e.attributes.position.count,l=new Float32Array(c);for(let u=0;u<a.length;u++){const e=3*a[u];l[e]=s[3*u],l[e+1]=s[3*u+1],l[e+2]=s[3*u+2]}const d={vertexIndices:i,vertexPositions:l},h=this.genBuffers(d),p=new u.Float32BufferAttribute(h.vertex,3);p.name=o||n.attrName,p.applyMatrix4(r),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a;let o=[];return"IndexToDirect"===n&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a;let o=[];return"IndexToDirect"===n&&(o=e.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a;let o=[];return"IndexToDirect"===n&&(o=e.ColorIndex.a),{dataSize:4,buffer:r,indices:o,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=e.Materials.a,o=[];for(let i=0;i<r.length;++i)o.push(i);return{dataSize:1,buffer:r,indices:o,mappingType:t,referenceType:n}}parseNurbsGeometry(e){if(void 0===se)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new u.BufferGeometry;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new u.BufferGeometry;const n=t-1,r=e.KnotVector.a,o=[],i=e.Points.a;for(let h=0,p=i.length;h<p;h+=4)o.push((new u.Vector4).fromArray(i,h));let s,a;if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){s=n,a=r.length-1-s;for(let e=0;e<n;++e)o.push(o[e])}const c=new se(n,r,o,s,a).getPoints(7*o.length),l=new Float32Array(3*c.length);c.forEach((function(e,t){e.toArray(l,3*t)}));const d=new u.BufferGeometry;return d.setAttribute("position",new u.BufferAttribute(l,3)),d}}class pe{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const n in t){const r=t[n],o=this.addClip(r);e.push(o)}return e}parseClips(){if(void 0===ae.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=ae.Objects.AnimationCurveNode,t=new Map;for(const n in e){const r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){const e={id:r.id,attr:r.attrName,curves:{}};t.set(e.id,e)}}return t}parseAnimationCurves(e){const t=ae.Objects.AnimationCurve;for(const n in t){const r={id:t[n].id,times:t[n].KeyTime.a.map(ye),values:t[n].KeyValueFloat.a},o=ce.get(r.id);if(void 0!==o){const t=o.parents[0].ID,n=o.parents[0].relationship;n.match(/X/)?e.get(t).curves.x=r:n.match(/Y/)?e.get(t).curves.y=r:n.match(/Z/)?e.get(t).curves.z=r:n.match(/d|DeformPercent/)&&e.has(t)&&(e.get(t).curves.morph=r)}}}parseAnimationLayers(e){const t=ae.Objects.AnimationLayer,n=new Map;for(const r in t){const t=[],o=ce.get(parseInt(r));if(void 0!==o){o.children.forEach((function(n,r){if(e.has(n.ID)){const o=e.get(n.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===t[r]){const e=ce.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==e){const o=ae.Objects.Model[e.toString()];if(void 0===o)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",n);const i={modelName:o.attrName?u.PropertyBinding.sanitizeNodeName(o.attrName):"",ID:o.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};ue.traverse((function(e){e.ID===o.id&&(i.transform=e.matrix,e.userData.transformData&&(i.eulerOrder=e.userData.transformData.eulerOrder))})),i.transform||(i.transform=new u.Matrix4),"PreRotation"in o&&(i.preRotation=o.PreRotation.value),"PostRotation"in o&&(i.postRotation=o.PostRotation.value),t[r]=i}}t[r]&&(t[r][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===t[r]){const e=ce.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,o=ce.get(e).parents[0].ID,i=ce.get(o).parents[0].ID,s=ce.get(i).parents[0].ID,a=ae.Objects.Model[s],c={modelName:a.attrName?u.PropertyBinding.sanitizeNodeName(a.attrName):"",morphName:ae.Objects.Deformer[e].attrName};t[r]=c}t[r][o.attr]=o}}})),n.set(parseInt(r),t)}}return n}parseAnimStacks(e){const t=ae.Objects.AnimationStack,n={};for(const r in t){const o=ce.get(parseInt(r)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const i=e.get(o[0].ID);n[r]={name:t[r].attrName,layer:i}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new u.AnimationClip(e.name,-1,t)}generateTracks(e){const t=[];let n=new u.Vector3,r=new u.Quaternion,o=new u.Vector3;if(e.transform&&e.transform.decompose(n,r,o),n=n.toArray(),r=(new u.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),o=o.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const r=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==r&&t.push(r)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const n=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==n&&t.push(n)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const n=this.generateVectorTrack(e.modelName,e.S.curves,o,"scale");void 0!==n&&t.push(n)}if(void 0!==e.DeformPercent){const n=this.generateMorphTrack(e);void 0!==n&&t.push(n)}return t}generateVectorTrack(e,t,n,r){const o=this.getTimesForAllAxes(t),i=this.getKeyframeTrackValues(o,t,n);return new u.VectorKeyframeTrack(e+"."+r,o,i)}generateRotationTrack(e,t,n,r,o,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(u.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(u.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(u.MathUtils.degToRad));const s=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(s,t,n);void 0!==r&&((r=r.map(u.MathUtils.degToRad)).push(i),r=(new u.Euler).fromArray(r),r=(new u.Quaternion).setFromEuler(r)),void 0!==o&&((o=o.map(u.MathUtils.degToRad)).push(i),o=(new u.Euler).fromArray(o),o=(new u.Quaternion).setFromEuler(o).invert());const c=new u.Quaternion,l=new u.Euler,d=[];for(let u=0;u<a.length;u+=3)l.set(a[u],a[u+1],a[u+2],i),c.setFromEuler(l),void 0!==r&&c.premultiply(r),void 0!==o&&c.multiply(o),c.toArray(d,u/3*4);return new u.QuaternionKeyframeTrack(e+".quaternion",s,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),r=ue.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new u.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+r+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){let e=1,n=t[0];for(let r=1;r<t.length;r++){const o=t[r];o!==n&&(t[e]=o,n=o,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,n){const r=n,o=[];let i=-1,s=-1,a=-1;return e.forEach((function(e){if(t.x&&(i=t.x.times.indexOf(e)),t.y&&(s=t.y.times.indexOf(e)),t.z&&(a=t.z.times.indexOf(e)),-1!==i){const e=t.x.values[i];o.push(e),r[0]=e}else o.push(r[0]);if(-1!==s){const e=t.y.values[s];o.push(e),r[1]=e}else o.push(r[1]);if(-1!==a){const e=t.z.values[a];o.push(e),r[2]=e}else o.push(r[2])})),o}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const n=e.values[t-1],r=e.values[t]-n,o=Math.abs(r);if(o>=180){const i=o/180,s=r/i;let a=n+s;const c=e.times[t-1],u=(e.times[t]-c)/i;let l=c+u;const d=[],h=[];for(;l<e.times[t];)d.push(l),l+=u,h.push(a),a+=s;e.times=Pe(e.times,t,d),e.values=Pe(e.values,t,h)}}}}class fe{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new ve,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){const o=e.match(/^[\s\t]*;/),i=e.match(/^[\s\t]*$/);if(o||i)return;const s=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),a=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=e.match("^\\t{"+(t.currentIndent-1)+"}}");s?t.parseNodeBegin(e,s):a?t.parseNodeProperty(e,a,n[++r]):c?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)})),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),o={name:n},i=this.parseNodeAttr(r),s=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,o):n in s?("PoseNode"===n?s.PoseNode.push(o):void 0!==s[n].id&&(s[n]={},s[n][s[n].id]=s[n]),""!==i.id&&(s[n][i.id]=o)):"number"===typeof i.id?(s[n]={},s[n][i.id]=o):"Properties70"!==n&&(s[n]="PoseNode"===n?[o]:o),"number"===typeof i.id&&(o.id=i.id),""!==i.name&&(o.attrName=i.name),""!==i.type&&(o.attrType=i.type),this.pushStack(o)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}parseNodeProperty(e,t,n){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),o=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===o&&(o=n.replace(/"/g,"").replace(/,$/,"").trim());const i=this.getCurrentNode();if("Properties70"!==i.name){if("C"===r){const e=o.split(",").slice(1),t=parseInt(e[0]),n=parseInt(e[1]);let s=o.split(",").slice(3);s=s.map((function(e){return e.trim().replace(/^"/,"")})),r="connections",o=[t,n],function(e,t){for(let n=0,r=e.length,o=t.length;n<o;n++,r++)e[r]=t[n]}(o,s),void 0===i[r]&&(i[r]=[])}"Node"===r&&(i.id=o),r in i&&Array.isArray(i[r])?i[r].push(o):"a"!==r?i[r]=o:i.a=o,this.setCurrentProp(i,r),"a"===r&&","!==o.slice(-1)&&(i.a=Ie(o))}else this.parseNodeSpecialProperty(e,r,o)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=Ie(t.a))}parseNodeSpecialProperty(e,t,n){const r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),o=r[0],i=r[1],s=r[2],a=r[3];let c=r[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=Ie(c)}this.getPrevNode()[o]={type:i,type2:s,flag:a,value:c},this.setCurrentProp(this.getPrevNode(),o)}}class me{parse(e){const t=new ge(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new ve;for(;!this.endOfContent(t);){const e=this.parseNode(t,n);null!==e&&r.add(e.name,e)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},r=t>=7500?e.getUint64():e.getUint32(),o=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const i=e.getUint8(),s=e.getString(i);if(0===r)return null;const a=[];for(let d=0;d<o;d++)a.push(this.parseProperty(e));const c=a.length>0?a[0]:"",u=a.length>1?a[1]:"",l=a.length>2?a[2]:"";for(n.singleProperty=1===o&&e.getOffset()===r;r>e.getOffset();){const r=this.parseNode(e,t);null!==r&&this.parseSubNode(s,n,r)}return n.propertyList=a,"number"===typeof c&&(n.id=c),""!==u&&(n.attrName=u),""!==l&&(n.attrType=l),""!==s&&(n.name=s),n}parseSubNode(e,t,n){if(!0===n.singleProperty){const e=n.propertyList[0];Array.isArray(e)?(t[n.name]=n,n.a=e):t[n.name]=e}else if("Connections"===e&&"C"===n.name){const e=[];n.propertyList.forEach((function(t,n){0!==n&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){let e=n.propertyList[0],r=n.propertyList[1];const o=n.propertyList[2],i=n.propertyList[3];let s;0===e.indexOf("Lcl ")&&(e=e.replace("Lcl ","Lcl_")),0===r.indexOf("Lcl ")&&(r=r.replace("Lcl ","Lcl_")),s="Color"===r||"ColorRGB"===r||"Vector"===r||"Vector3D"===r||0===r.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[e]={type:r,type2:o,flag:i,value:s}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),o=e.getUint32(),i=e.getUint32();if(0===o)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}const s=oe(new Uint8Array(e.getArrayBuffer(i))),a=new ge(s.buffer);switch(t){case"b":case"c":return a.getBooleanArray(r);case"d":return a.getFloat64Array(r);case"f":return a.getFloat32Array(r);case"i":return a.getInt32Array(r);case"l":return a.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class ge{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1===(1&this.getUint8())}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const n=t.indexOf(0);return n>=0&&(t=t.slice(0,n)),u.LoaderUtils.decodeText(new Uint8Array(t))}}class ve{add(e,t){this[e]=t}}function be(e){const t=e.match(/FBXVersion: (\d+)/);if(t){return parseInt(t[1])}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function ye(e){return e/46186158e3}const Oe=[];function we(e,t,n,r){let o;switch(r.mappingType){case"ByPolygonVertex":o=e;break;case"ByPolygon":o=t;break;case"ByVertice":o=n;break;case"AllSame":o=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(o=r.indices[o]);const i=o*r.dataSize,s=i+r.dataSize;return function(e,t,n,r){for(let o=n,i=0;o<r;o++,i++)e[i]=t[o];return e}(Oe,r.buffer,i,s)}const je=new u.Euler,xe=new u.Vector3;function _e(e){const t=new u.Matrix4,n=new u.Matrix4,r=new u.Matrix4,o=new u.Matrix4,i=new u.Matrix4,s=new u.Matrix4,a=new u.Matrix4,c=new u.Matrix4,l=new u.Matrix4,d=new u.Matrix4,h=new u.Matrix4,p=new u.Matrix4,f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(xe.fromArray(e.translation)),e.preRotation){const t=e.preRotation.map(u.MathUtils.degToRad);t.push(e.eulerOrder),n.makeRotationFromEuler(je.fromArray(t))}if(e.rotation){const t=e.rotation.map(u.MathUtils.degToRad);t.push(e.eulerOrder),r.makeRotationFromEuler(je.fromArray(t))}if(e.postRotation){const t=e.postRotation.map(u.MathUtils.degToRad);t.push(e.eulerOrder),o.makeRotationFromEuler(je.fromArray(t)),o.invert()}e.scale&&i.scale(xe.fromArray(e.scale)),e.scalingOffset&&a.setPosition(xe.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(xe.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition(xe.fromArray(e.rotationOffset)),e.rotationPivot&&l.setPosition(xe.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(h.copy(e.parentMatrix),d.copy(e.parentMatrixWorld));const m=(new u.Matrix4).copy(n).multiply(r).multiply(o),g=new u.Matrix4;g.extractRotation(d);const v=new u.Matrix4;v.copyPosition(d);const b=new u.Matrix4,y=(new u.Matrix4).copy(v).invert().multiply(d);b.copy(g).invert().multiply(y);const O=i,w=new u.Matrix4;if(0===f)w.copy(g).multiply(m).multiply(b).multiply(O);else if(1===f)w.copy(g).multiply(b).multiply(m).multiply(O);else{const e=(new u.Matrix4).scale((new u.Vector3).setFromMatrixScale(h)),t=(new u.Matrix4).copy(e).invert(),n=(new u.Matrix4).copy(b).multiply(t);w.copy(g).multiply(m).multiply(n).multiply(O)}const j=new u.Matrix4;j.copy(l).invert();const x=new u.Matrix4;x.copy(s).invert();let _=new u.Matrix4;_.copy(t).multiply(c).multiply(l).multiply(n).multiply(r).multiply(o).multiply(j).multiply(a).multiply(s).multiply(i).multiply(x);const E=(new u.Matrix4).copyPosition(_),I=(new u.Matrix4).copy(d).multiply(E);return p.copyPosition(I),_=(new u.Matrix4).copy(p).multiply(w),_.premultiply(d.invert()),_}function Ee(e){const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function Ie(e){return e.split(",").map((function(e){return parseFloat(e)}))}function Te(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),u.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function Pe(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}var ke=n("7xBP");function Ae(e){return Object(ke.useLoader)(le,e)}function Ne(e){var t=e.position,n=void 0===t?[0,0,0]:t,o=e.scale,i=void 0===o?.05:o,s=Ae(Object(v.a)("/models/plant.fbx"));return s.castShadow=!0,s.receiveShadow=!0,s.traverse((function(e){e instanceof u.Mesh&&(e.castShadow=!0,e.receiveShadow=!0)})),Object(r.jsx)("primitive",{position:n,scale:i,object:s,dispose:null})}Ae.preload=e=>ke.useLoader.preload(le,e);var Re=n("zKBq"),Ce=n("v3sT"),Se=n("xRp+"),Le=n("TZn1"),Me=n("NKCw"),De=n("YY8a");function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=[{name:"title",label:"Title"},{name:"isbn",label:"ISBN"},{name:"author",label:"Author"},{name:"pages",label:"Pages"},{name:"cover",label:"Cover"},{name:"backCover",label:"Back Cover"},{name:"dimentions",label:"Dimentions",placeholder:"15.24 x 2.39 x 22.86 cm"}];function Ue(e){var t=Object(Me.b)({mode:"onChange"}),n=t.control,o=t.handleSubmit;return(0,t.watch)((function(t){return e.onChange(We(t))})),Object(r.jsxs)(Re.a,{m:5,maxWidth:300,children:[Object(r.jsx)(Re.a,{marginBottom:4,children:Object(r.jsx)(Ce.a,{variant:"overline",children:"Edit Book"})}),Object(r.jsxs)("form",{onSubmit:o((function(t){e.onChange(We(t))})),children:[Ge.map((function(t){return Object(r.jsx)(Re.a,{marginY:2,children:Object(r.jsx)(Me.a,{name:t.name,control:n,defaultValue:Ve(e.book,t.name),render:function(e){var n=e.field;return Object(r.jsx)(Se.a,{label:t.label,placeholder:t.placeholder,variant:"outlined",inputProps:n})}})},t.name)})),Object(r.jsx)(Le.a,{onClick:e.onClose,children:"Close"})]})]})}function Ve(e,t){return"dimentions"===t?"".concat(e.width," x ").concat(e.depth," x ").concat(e.height," cm "):e[t]||""}function We(e){var t=e.dimentions;return Be(Be({},a(e,["dimentions"])),Object(De.a)(t))}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}p.a;var qe=function(e){return Array(Math.ceil(e/w.a.length)||1).fill(w.a).flat().slice(0,e)};function Xe(e){return Object(r.jsx)(p.a,{children:Object(r.jsx)(h.a,Je({},e))})}function He(e){var t=e.autoRotate,n=e.children,o=Object(p.b)(),i=Object(p.b)(),s=Object(p.b)();return Object(r.jsxs)(r.Fragment,{children:[n,Object(r.jsx)(f.a,{autoRotate:t}),Object(r.jsx)("pointLight",{ref:o,intensity:1,decay:2,color:"#ffce8e",position:[0,150,20],castShadow:!0}),Object(r.jsx)("pointLight",{ref:s,intensity:1,decay:2,color:"#ffce8e",position:[-100,150,20],castShadow:!0}),Object(r.jsx)("pointLight",{ref:i,intensity:1,decay:2,position:[-20,150,130],castShadow:!0}),Object(r.jsx)("hemisphereLight",{args:[16772785,526368,1]})]})}Xe.args={position:[0,4.4,0],width:3.23,height:23,depth:15.8,cover:"https://images-na.ssl-images-amazon.com/images/I/612-pygu-NL.jpg",backCover:"https://images-na.ssl-images-amazon.com/images/I/71Dtwko9OyL.jpg"},Xe.storyName="Book";var Ye={coverRotation:60,booksNumber:31,autoRotate:!1,showAxes:!1},Ke={coverRotation:{control:{type:"range",min:0,max:360}},booksNumber:{control:{type:"range",min:0,max:600}}};function Qe(e){var t=e.booksNumber,n=e.coverRotation,o=e.showAxes,i=a(e,["booksNumber","coverRotation","showAxes"]);return Object(r.jsx)(p.a,{lights:!1,orbitControls:!1,axesHelper:o,children:Object(r.jsx)(He,Je(Je({},i),{},{children:Object(r.jsx)(O,{position:[-100,100,15],coverRotation:n,children:qe(t).map((function(e,t){return Object(r.jsx)(h.a,Je({},e),t)}))})}))})}function $e(e){var t=e.showAxes,n=e.coverRotation,s=e.booksNumber,c=a(e,["showAxes","coverRotation","booksNumber"]),u=o.useState(qe(s)),d=Object(i.a)(u,2),h=d[0],f=d[1],m=o.useState(null),g=Object(i.a)(m,2),v=g[0],b=g[1],y=o.useCallback((function(e){b((function(t){return Je(Je({},t),e)}))}),[v]),O=o.useCallback((function(){var e=Object(l.a)(h,(function(e){var t=h.findIndex((function(e){return e.isbn===v.isbn}));v.position=void 0,e[t]=v}));f(e),b(null)}),[v,h]),w=o.useCallback((function(e,t){b(Je(Je({},e),{},{position:[(null===t||void 0===t?void 0:t.point.x)||0,(null===t||void 0===t?void 0:t.point.y)||0,(null===t||void 0===t?void 0:t.point.z)||0]}))}),[]);return Object(r.jsxs)(r.Fragment,{children:[v&&Object(r.jsx)(Re.a,{bgcolor:"rgba(0,0,0, .5)",position:"absolute",display:"flex",alignItems:"center",borderRadius:7,height:"100%",zIndex:"100",top:0,right:0,p:4,style:{backdropFilter:"blur(15px)"},children:Object(r.jsx)(Re.a,{m:"auto",children:Object(r.jsx)(Ue,{book:v,onChange:y,onClose:O},v.isbn)})}),Object(r.jsx)(p.a,{lights:!1,orbitControls:!1,axesHelper:t,children:Object(r.jsx)(He,Je(Je({},c),{},{children:Object(r.jsx)(Ze,{books:h,editBook:v,onSelect:w,coverRotation:n})}))})]})}function Ze(e){var t=e.books,n=e.editBook,o=e.onSelect,i=e.coverRotation,s=Boolean(n);return Object(ke.useFrame)((function(e){s&&e.camera.position.lerp(new u.Vector3(10,1,100),.1),e.camera.lookAt(0,0,0),e.camera.updateProjectionMatrix()})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T,{}),Object(r.jsx)(k,{}),Object(r.jsx)(Ne,{position:[120,-100,20],scale:.07}),n&&Object(r.jsx)(et,Je({},n),n.isbn),Object(r.jsx)(m.Flex,{alignItems:"flex-start",justifyContent:"flex-end",position:[-100,0,15],children:Object(r.jsx)(m.Box,{marginTop:5,children:Object(r.jsx)(O,{coverRotation:i,children:t.map((function(e,t){return Object(r.jsx)(h.a,Je({onPointerDown:function(t){return o(e,t)}},e),t)}))})})})]})}function et(e){var t=e.position,n=a(e,["position"]),s=h.b.Cover,c=o.useState(s),l=Object(i.a)(c,2),p=l[0],f=l[1],m=Object(d.useSpring)({to:{position:[0,0,80]},from:{position:[t[0],t[1]+10,t[2]]},reset:!1}),g=Object(d.useSpring)({to:{rotation:[0,p,0]},from:{rotation:[0,p-u.Math.degToRad(-180),0]},reset:!1});return Object(r.jsx)(d.a.mesh,Je(Je(Je({},m),g),{},{children:Object(r.jsx)(h.a,Je(Je({},n),{},{rotation:[0,0,0],onPointerDown:function(){f(p+s)}}))}))}Qe.storyName="Shelf",Qe.args=Ye,Qe.defaultProps=Qe.args,Qe.argTypes=Ke,$e.args=Je(Je({},Ye),{},{autoRotate:!1,coverRotation:43}),$e.defaultProps=$e.args,$e.argTypes=Ke,$e.storyName="Room";t.default=function(){return Object(r.jsx)($e,{})}},"8OBN":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("7xBP"),o=n("kmrn");n.o(o,"useSpring")&&n.d(t,"useSpring",(function(){return o.useSpring}));var i=n("nEW0"),s=n("dfZa"),a=n("Womt");const c=["primitive"].concat(Object.keys(a).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));o.Globals.assign({createStringInterpolator:i.g,colors:i.e,frameLoop:"demand"}),Object(r.addEffect)(()=>{i.w.advance()});const u=Object(s.c)(c,{applyAnimatedValues:r.applyProps}).animated},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},GqZf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("pVnL"),o=n("8OQS"),i=n("q1tI"),s=n("JcIn"),a=n("7xBP"),c=n("Womt");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(r),d=u(o),h=u(i),p=u(s),f=function(e){return e[0].toUpperCase()+e.slice(1)},m=function(e){return e.toUpperCase().replace("-","_")},g=function(e,t,n){return Object.keys(t).forEach((function(r){var o=t[r];if("string"==typeof o)switch(r){case"flexDir":case"dir":case"flexDirection":return e.setFlexDirection(p.default["FLEX_DIRECTION_"+m(o)]);case"align":case"alignItems":return e.setAlignItems(p.default["ALIGN_"+m(o)]);case"justify":case"justifyContent":return e.setJustifyContent(p.default["JUSTIFY_"+m(o)]);case"wrap":case"flexWrap":return e.setFlexWrap(p.default["WRAP_"+m(o)]);case"basis":case"flexBasis":return e.setFlexBasis(o);default:return e["set"+f(r)](o)}else if("number"==typeof o){var i=o*n;switch(r){case"basis":case"flexBasis":return e.setFlexBasis(i);case"grow":case"flexGrow":return e.setFlexGrow(i);case"shrink":case"flexShrink":return e.setFlexShrink(i);case"align":return e.setAlignItems(o);case"justify":return e.setJustifyContent(o);case"flexDir":case"dir":return e.setFlexDirection(o);case"wrap":return e.setFlexWrap(o);case"padding":case"p":return e.setPadding(p.default.EDGE_ALL,i);case"paddingLeft":case"pl":return e.setPadding(p.default.EDGE_LEFT,i);case"paddingRight":case"pr":return e.setPadding(p.default.EDGE_RIGHT,i);case"paddingTop":case"pt":return e.setPadding(p.default.EDGE_TOP,i);case"paddingBottom":case"pb":return e.setPadding(p.default.EDGE_BOTTOM,i);case"margin":case"m":return e.setMargin(p.default.EDGE_ALL,i);case"marginLeft":case"ml":return e.setMargin(p.default.EDGE_LEFT,i);case"marginRight":case"mr":return e.setMargin(p.default.EDGE_RIGHT,i);case"marginTop":case"mt":return e.setMargin(p.default.EDGE_TOP,i);case"marginBottom":case"mb":return e.setMargin(p.default.EDGE_BOTTOM,i);default:return e["set"+f(r)](i)}}}))},v=function(e){return Object.keys(e).forEach((function(t){return void 0===e[t]?delete e[t]:{}}))},b={scaleFactor:100,requestReflow:function(){console.warn("Flex not initialized! Please report")},registerBox:function(){console.warn("Flex not initialized! Please report")},unregisterBox:function(){console.warn("Flex not initialized! Please report")}},y=i.createContext(b),O=i.createContext({node:null,size:[0,0]});function w(e){var t=i.useContext(e);return t||console.warn("You must place this hook/component under a <Flex/> component!"),t}function j(){return w(y).requestReflow}t.Box=function(e){var t=e.children,n=e.centerAnchor,r=e.flexDirection,o=e.flexDir,s=e.dir,c=e.alignContent,u=e.alignItems,f=e.alignSelf,m=e.align,b=e.justifyContent,x=e.justify,_=e.flexBasis,E=e.basis,I=e.flexGrow,T=e.grow,P=e.flexShrink,k=e.shrink,A=e.flexWrap,N=e.wrap,R=e.margin,C=e.m,S=e.marginBottom,L=e.marginLeft,M=e.marginRight,D=e.marginTop,F=e.mb,B=e.ml,G=e.mr,U=e.mt,V=e.padding,W=e.p,z=e.paddingBottom,J=e.paddingLeft,q=e.paddingRight,X=e.paddingTop,H=e.pb,Y=e.pl,K=e.pr,Q=e.pt,$=e.height,Z=e.width,ee=e.maxHeight,te=e.maxWidth,ne=e.minHeight,re=e.minWidth,oe=d.default(e,["children","centerAnchor","flexDirection","flexDir","dir","alignContent","alignItems","alignSelf","align","justifyContent","justify","flexBasis","basis","flexGrow","grow","flexShrink","shrink","flexWrap","wrap","margin","m","marginBottom","marginLeft","marginRight","marginTop","mb","ml","mr","mt","padding","p","paddingBottom","paddingLeft","paddingRight","paddingTop","pb","pl","pr","pt","height","width","maxHeight","maxWidth","minHeight","minWidth"]),ie=i.useMemo((function(){var e={flexDirection:r,flexDir:o,dir:s,alignContent:c,alignItems:u,alignSelf:f,align:m,justifyContent:b,justify:x,flexBasis:_,basis:E,flexGrow:I,grow:T,flexShrink:P,shrink:k,flexWrap:A,wrap:N,margin:R,m:C,marginBottom:S,marginLeft:L,marginRight:M,marginTop:D,mb:F,ml:B,mr:G,mt:U,padding:V,p:W,paddingBottom:z,paddingLeft:J,paddingRight:q,paddingTop:X,pb:H,pl:Y,pr:K,pt:Q,height:$,width:Z,maxHeight:ee,maxWidth:te,minHeight:ne,minWidth:re};return v(e),e}),[m,c,u,f,s,_,E,o,r,I,T,P,k,A,$,x,b,C,R,S,L,M,D,ee,te,F,ne,re,B,G,U,W,V,z,J,q,X,H,Y,K,Q,Z,N]),se=w(y),ae=se.registerBox,ce=se.unregisterBox,ue=se.scaleFactor,le=w(O).node,de=i.useRef(),he=i.useMemo((function(){return p.default.Node.create()}),[]),pe=j();i.useLayoutEffect((function(){g(he,ie,ue)}),[ie,he,ue]),i.useLayoutEffect((function(){if(de.current&&le)return le.insertChild(he,le.getChildCount()),ae(he,de.current,ie,n),function(){le.removeChild(he),ce(he)}}),[he,le,ie,n,ae,ce]),i.useLayoutEffect((function(){pe()}),[t,ie,pe]);var fe=i.useState([0,0]),me=fe[0],ge=fe[1],ve=1/ue;a.useFrame((function(){var e=("number"==typeof ie.width?ie.width:null)||he.getComputedWidth().valueOf()/ue,t=("number"==typeof ie.height?ie.height:null)||he.getComputedHeight().valueOf()/ue;(Math.abs(e-me[0])>ve||Math.abs(t-me[1])>ve)&&ge([e,t])}));var be=i.useMemo((function(){return{node:he,size:me}}),[he,me]);return h.default.createElement("group",l.default({ref:de},oe),h.default.createElement(O.Provider,{value:be},"function"==typeof t?t(me[0],me[1]):t))},t.Flex=function(e){var t=e.size,n=void 0===t?[1,1,1]:t,r=e.yogaDirection,o=void 0===r?"ltr":r,s=e.plane,u=void 0===s?"xy":s,l=e.children,f=e.scaleFactor,m=void 0===f?100:f,b=e.onReflow,w=e.flexDirection,j=e.flexDir,x=e.dir,_=e.alignContent,E=e.alignItems,I=e.alignSelf,T=e.align,P=e.justifyContent,k=e.justify,A=e.flexBasis,N=e.basis,R=e.flexGrow,C=e.grow,S=e.flexShrink,L=e.shrink,M=e.flexWrap,D=e.wrap,F=e.margin,B=e.m,G=e.marginBottom,U=e.marginLeft,V=e.marginRight,W=e.marginTop,z=e.mb,J=e.ml,q=e.mr,X=e.mt,H=e.padding,Y=e.p,K=e.paddingBottom,Q=e.paddingLeft,$=e.paddingRight,Z=e.paddingTop,ee=e.pb,te=e.pl,ne=e.pr,re=e.pt,oe=e.height,ie=e.width,se=e.maxHeight,ae=e.maxWidth,ce=e.minHeight,ue=e.minWidth,le=d.default(e,["size","yogaDirection","plane","children","scaleFactor","onReflow","flexDirection","flexDir","dir","alignContent","alignItems","alignSelf","align","justifyContent","justify","flexBasis","basis","flexGrow","grow","flexShrink","shrink","flexWrap","wrap","margin","m","marginBottom","marginLeft","marginRight","marginTop","mb","ml","mr","mt","padding","p","paddingBottom","paddingLeft","paddingRight","paddingTop","pb","pl","pr","pt","height","width","maxHeight","maxWidth","minHeight","minWidth"]),de=i.useMemo((function(){var e={flexDirection:w,flexDir:j,dir:x,alignContent:_,alignItems:E,alignSelf:I,align:T,justifyContent:P,justify:k,flexBasis:A,basis:N,flexGrow:R,grow:C,flexShrink:S,shrink:L,flexWrap:M,wrap:D,margin:F,m:B,marginBottom:G,marginLeft:U,marginRight:V,marginTop:W,mb:z,ml:J,mr:q,mt:X,padding:H,p:Y,paddingBottom:K,paddingLeft:Q,paddingRight:$,paddingTop:Z,pb:ee,pl:te,pr:ne,pt:re,height:oe,width:ie,maxHeight:se,maxWidth:ae,minHeight:ce,minWidth:ue};return v(e),e}),[T,_,E,I,x,A,N,j,w,R,C,S,L,M,oe,k,P,B,F,G,U,V,W,se,ae,z,ce,ue,J,q,X,Y,H,K,Q,$,Z,ee,te,ne,re,ie,D]),he=i.useRef([]),pe=i.useCallback((function(e,t,n,r){void 0===r&&(r=!1);var o=he.current.findIndex((function(t){return t.node===e}));-1!==o&&he.current.splice(o,1),he.current.push({group:t,node:e,flexProps:n,centerAnchor:r})}),[]),fe=i.useCallback((function(e){var t=he.current.findIndex((function(t){return t.node===e}));-1!==t&&he.current.splice(t,1)}),[]),me=i.useMemo((function(){return p.default.Node.create()}),[]);i.useLayoutEffect((function(){g(me,de,m)}),[me,de,m]);var ge=a.useThree().invalidate,ve=i.useRef(!0),be=i.useCallback((function(){ve.current=!0,ge()}),[ge]);i.useLayoutEffect((function(){be()}),[l,de,be]);var ye=i.useMemo((function(){return new c.Box3}),[]),Oe=i.useMemo((function(){return new c.Vector3}),[]),we=u[0],je=u[1],xe=function(e){switch(e){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(u),_e=function(e,t){switch(t){case"xy":return[e[0],e[1]];case"yz":return[e[1],e[2]];case"xz":return[e[0],e[2]]}}(n,u),Ee=_e[0],Ie=_e[1],Te="ltr"===o?p.default.DIRECTION_LTR:"rtl"===o?p.default.DIRECTION_RTL:o,Pe=i.useMemo((function(){return{requestReflow:be,registerBox:pe,unregisterBox:fe,scaleFactor:m}}),[be,pe,fe,m]),ke=i.useMemo((function(){return{node:me,size:[Ee,Ie]}}),[me,Ee,Ie]);return a.useFrame((function(){ve.current&&(ve.current=!1,function(){he.current.forEach((function(e){var t=e.group,n=e.node,r=e.flexProps,o="number"==typeof r.width?r.width*m:r.width,i="number"==typeof r.height?r.height*m:r.height;void 0!==o&&void 0!==i?(n.setWidth(o),n.setHeight(i)):(ye.setFromObject(t).getSize(Oe),n.setWidth(o||Oe[we]*m),n.setHeight(i||Oe[je]*m))})),me.calculateLayout(Ee*m,Ie*m,Te);var e=0,t=0,n=0,r=0;he.current.forEach((function(o){var i,s=o.group,a=o.node,u=o.centerAnchor,l=a.getComputedLayout(),d=l.left,h=l.top,p=l.width,f=l.height,g=function(e){var t=e.x,n=e.y,r=e.z;return new c.Vector3(t,n,r)}(((i={})[we]=(d+(u?p/2:0))/m,i[je]=-(h+(u?f/2:0))/m,i[xe]=0,i));e=Math.min(e,d),n=Math.min(n,h),t=Math.max(t,d+p),r=Math.max(r,h+f),s.position.copy(g)})),b&&b((t-e)/m,(r-n)/m),ge()}())})),h.default.createElement("group",le,h.default.createElement(y.Provider,{value:Pe},h.default.createElement(O.Provider,{value:ke},l)))},t.useContext=w,t.useFlexSize=function(){return w(O).size},t.useReflow=j},JcIn:function(e,t,n){"use strict";var r=n("j+dm"),o=n("4Pkc"),i=!1,s=null;if(o({},(function(e,t){if(!i){if(i=!0,e)throw e;s=t}})),!i)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");e.exports=r(s.bind,s.lib)},dfZa:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a}));var r=n("nEW0"),o=n("q1tI");const i=Symbol.for("Animated:node"),s=e=>e&&e[i],a=(e,t)=>Object(r.h)(e,i,t),c=e=>e&&e[i]&&e[i].getPayload();class u{constructor(){this.payload=void 0,a(this,this)}getPayload(){return this.payload||[]}}class l extends u{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,r.s.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new l(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return r.s.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,r.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class d extends l{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Object(r.f)({output:[e,e]})}static create(e){return new d(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(r.s.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Object(r.f)({output:[this.getValue(),e]})),this._value=0,super.reset()}}const h={dependencies:null};class p extends u{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Object(r.l)(this.source,(n,o)=>{var s;(s=n)&&s[i]===s?t[o]=n.getValue(e):Object(r.r)(n)?t[o]=Object(r.q)(n):e||(t[o]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Object(r.k)(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Object(r.l)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){h.dependencies&&Object(r.r)(e)&&h.dependencies.add(e);const t=c(e);t&&Object(r.k)(t,e=>this.add(e))}}class f extends p{constructor(e){super(e)}static create(e){return new f(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(m)),!0)}}function m(e){return(Object(r.t)(e)?d:l).create(e)}function g(e){const t=s(e);return t?t.constructor:r.s.arr(e)?f:Object(r.t)(e)?d:l}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const b=(e,t)=>{const n=!r.s.fun(e)||e.prototype&&e.prototype.isReactComponent;return Object(o.forwardRef)((i,s)=>{const a=Object(o.useRef)(null),c=n&&Object(o.useCallback)(e=>{a.current=function(e,t){e&&(r.s.fun(e)?e(t):e.current=t);return t}(s,e)},[s]),[u,l]=function(e,t){const n=new Set;h.dependencies=n,e.style&&(e=v({},e,{style:t.createAnimatedStyle(e.style)}));return e=new p(e),h.dependencies=null,[e,n]}(i,t),d=Object(r.z)(),f=()=>{const e=a.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,u.getValue(!0)))&&d()},m=new y(f,l),g=Object(o.useRef)();Object(r.A)(()=>{const e=g.current;g.current=m,Object(r.k)(l,e=>Object(r.c)(e,m)),e&&(Object(r.k)(e.deps,t=>Object(r.x)(t,e)),r.w.cancel(e.update))}),Object(o.useEffect)(f,[]),Object(r.C)(()=>()=>{const e=g.current;Object(r.k)(e.deps,t=>Object(r.x)(t,e))});const b=t.getComponentProps(u.getValue());return o.createElement(e,v({},b,{ref:c}))})};class y{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&r.w.write(this.update)}}const O=Symbol.for("AnimatedComponent"),w=(e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new p(e)),getComponentProps:o=(e=>e)}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:o},s=e=>{const t=j(e)||"Anonymous";return(e=r.s.str(e)?s[e]||(s[e]=b(e,i)):e[O]||(e[O]=b(e,i))).displayName=`Animated(${t})`,e};return Object(r.l)(e,(t,n)=>{r.s.arr(e)&&(n=j(t)),s[n]=s(t)}),{animated:s}},j=e=>r.s.str(e)?e:e&&r.s.str(e.displayName)?e.displayName:r.s.fun(e)&&e.name||null},"j+dm":function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n("rrRK"),c=function(){function e(t,n,r,o,i,a){s(this,e),this.left=t,this.right=n,this.top=r,this.bottom=o,this.width=i,this.height=a}return o(e,[{key:"fromJS",value:function(e){e(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),e}(),u=function(){function e(t,n){s(this,e),this.width=t,this.height=n}return o(e,null,[{key:"fromJS",value:function(t){return new e(t.width,t.height)}}]),o(e,[{key:"fromJS",value:function(e){e(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),e}(),l=function(){function e(t,n){s(this,e),this.unit=t,this.value=n}return o(e,[{key:"fromJS",value:function(e){e(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case a.UNIT_POINT:return String(this.value);case a.UNIT_PERCENT:return this.value+"%";case a.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),e}();e.exports=function(e,t){function n(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.call.apply(n,[this,r].concat(t))}}for(var o=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],s=function(){var e,r=o[d],s=(i(e={},a.UNIT_POINT,t.Node.prototype[r]),i(e,a.UNIT_PERCENT,t.Node.prototype[r+"Percent"]),i(e,a.UNIT_AUTO,t.Node.prototype[r+"Auto"]),e);n(t.Node.prototype,r,(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i,c,u=n.pop(),d=void 0,h=void 0;if("auto"===u)d=a.UNIT_AUTO,h=void 0;else if(u instanceof l)d=u.unit,h=u.valueOf();else if(d="string"===typeof u&&u.endsWith("%")?a.UNIT_PERCENT:a.UNIT_POINT,h=parseFloat(u),!Number.isNaN(u)&&Number.isNaN(h))throw new Error("Invalid value "+u+" for "+r);if(!s[d])throw new Error('Failed to execute "'+r+"\": Unsupported unit '"+u+"'");return void 0!==h?(i=s[d]).call.apply(i,[this].concat(n,[h])):(c=s[d]).call.apply(c,[this].concat(n))}))},d=0;d<o.length;d++)s();return n(t.Config.prototype,"free",(function(){t.Config.destroy(this)})),n(t.Node,"create",(function(e,n){return n?t.Node.createWithConfig(n):t.Node.createDefault()})),n(t.Node.prototype,"free",(function(){t.Node.destroy(this)})),n(t.Node.prototype,"freeRecursive",(function(){for(var e=0,t=this.getChildCount();e<t;++e)this.getChild(0).freeRecursive();this.free()})),n(t.Node.prototype,"setMeasureFunc",(function(e,t){return t?e.call(this,(function(){return u.fromJS(t.apply(void 0,arguments))})):this.unsetMeasureFunc()})),n(t.Node.prototype,"calculateLayout",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.DIRECTION_LTR;return e.call(this,t,n,r)})),r({Config:t.Config,Node:t.Node,Layout:e("Layout",c),Size:e("Size",u),Value:e("Value",l),getInstanceCount:function(){return t.getInstanceCount.apply(t,arguments)}},a)}},kaUp:function(e,t){},kmrn:function(e,t,n){"use strict";n.d(t,"useSpring",(function(){return ge}));var r=n("nEW0");n.d(t,"Globals",(function(){return r.b}));var o=n("q1tI"),i=n("dfZa");n("kaUp"),n("v8Ku");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,...t){return r.s.fun(e)?e(...t):e}const c=(e,t)=>!0===e||!!(t&&e&&(r.s.fun(e)?e(t):Object(r.y)(e).includes(t))),u=(e,t)=>r.s.obj(e)?t&&e[t]:e,l=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,d=e=>e,h=(e,t=d)=>{let n=p;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const o={};for(const i of n){const n=t(e[i],i);r.s.und(n)||(o[i]=n)}return o},p=["config","onProps","onStart","onChange","onPause","onResume","onRest"],f={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function m(e){const t=function(e){const t={};let n=0;if(Object(r.l)(e,(e,r)=>{f[r]||(t[r]=e,n++)}),n)return t}(e);if(t){const n={to:t};return Object(r.l)(e,(e,r)=>r in t||(n[r]=e)),n}return s({},e)}function g(e){return e=Object(r.q)(e),r.s.arr(e)?e.map(g):Object(r.t)(e)?r.b.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function v(e){for(const t in e)return!0;return!1}function b(e){return r.s.fun(e)||r.s.arr(e)&&r.s.obj(e[0])}function y(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function O(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const w=s({},{tension:170,friction:26},{mass:1,damping:1,easing:e=>e,clamp:!1});class j{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,w)}}function x(e,t){if(r.s.und(t.decay)){const n=!r.s.und(t.tension)||!r.s.und(t.friction);!n&&r.s.und(t.frequency)&&r.s.und(t.damping)&&r.s.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const _=[];class E{constructor(){this.changed=!1,this.values=_,this.toValues=null,this.fromValues=_,this.to=void 0,this.from=void 0,this.config=new j,this.immediate=!1}}function I(e,{key:t,props:n,defaultProps:o,state:i,actions:u}){return new Promise((l,d)=>{var h;let p,f,m=c(null!=(h=n.cancel)?h:null==o?void 0:o.cancel,t);if(m)b();else{r.s.und(n.pause)||(i.paused=c(n.pause,t));let e=null==o?void 0:o.pause;!0!==e&&(e=i.paused||c(e,t)),p=a(n.delay||0,t),e?(i.resumeQueue.add(v),u.pause()):(u.resume(),v())}function g(){i.resumeQueue.add(v),i.timeouts.delete(f),f.cancel(),p=f.time-r.w.now()}function v(){p>0?(f=r.w.setTimeout(b,p),i.pauseQueue.add(g),i.timeouts.add(f)):b()}function b(){i.pauseQueue.delete(g),i.timeouts.delete(f),e<=(i.cancelId||0)&&(m=!0);try{u.start(s({},n,{callId:e,cancel:m}),l)}catch(t){d(t)}}})}const T=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?A(e.get()):t.every(e=>e.noop)?P(e.get()):k(e.get(),t.every(e=>e.finished)),P=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),k=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),A=e=>({value:e,cancelled:!0,finished:!1});function N(e,t,n,o){const{callId:i,parentId:a,onRest:c}=t,{asyncTo:u,promise:l}=n;return a||e!==u||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const d=h(t,(e,t)=>"onRest"===t?void 0:e);let p,f;const m=new Promise((e,t)=>(p=e,f=t)),g=e=>{const t=i<=(n.cancelId||0)&&A(o)||i!==n.asyncId&&k(o,!1);if(t)throw e.result=t,f(e),e},v=(e,t)=>{const a=new C,c=new S;return(async()=>{if(r.b.skipAnimation)throw R(n),c.result=k(o,!1),f(c),c;g(a);const u=r.s.obj(e)?s({},e):s({},t,{to:e});u.parentId=i,Object(r.l)(d,(e,t)=>{r.s.und(u[t])&&(u[t]=e)});const l=await o.start(u);return g(a),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),l})()};let b;if(r.b.skipAnimation)return R(n),k(o,!1);try{let t;t=r.s.arr(e)?(async e=>{for(const t of e)await v(t)})(e):Promise.resolve(e(v,o.stop.bind(o))),await Promise.all([t.then(p),m]),b=k(o.get(),!0,!1)}catch(y){if(y instanceof C)b=y.result;else{if(!(y instanceof S))throw y;b=y.result}}finally{i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?l:void 0)}return r.s.fun(c)&&r.w.batchedUpdates(()=>{c(b,o,o.item)}),b})():l}function R(e,t){Object(r.m)(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class C extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class S extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const L=e=>e instanceof D;let M=1;class D extends r.a{constructor(...e){super(...e),this.id=M++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Object(i.d)(this);return e&&e.getValue()}to(...e){return r.b.to(this,e)}interpolate(...e){return Object(r.j)(),r.b.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Object(r.d)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||r.o.sort(this),Object(r.d)(this,{type:"priority",parent:this,priority:e})}}const F=Symbol.for("SpringPhase"),B=e=>(1&e[F])>0,G=e=>(2&e[F])>0,U=e=>(4&e[F])>0,V=(e,t)=>t?e[F]|=3:e[F]&=-3,W=(e,t)=>t?e[F]|=4:e[F]&=-5;class z extends D{constructor(e,t){if(super(),this.key=void 0,this.animation=new E,this.queue=void 0,this.defaultProps={},this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!r.s.und(e)||!r.s.und(t)){const n=r.s.obj(e)?s({},e):s({},t,{from:e});r.s.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(G(this)||this._state.asyncTo)||U(this)}get goal(){return Object(r.q)(this.animation.to)}get velocity(){const e=Object(i.d)(this);return e instanceof i.b?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return B(this)}get isAnimating(){return G(this)}get isPaused(){return U(this)}advance(e){let t=!0,n=!1;const o=this.animation;let{config:s,toValues:a}=o;const c=Object(i.f)(o.to);!c&&Object(r.r)(o.to)&&(a=Object(r.y)(Object(r.q)(o.to))),o.values.forEach((u,l)=>{if(u.done)return;const d=u.constructor==i.a?1:c?c[l].lastPosition:a[l];let h=o.immediate,p=d;if(!h){if(p=u.lastPosition,s.tension<=0)return void(u.done=!0);let t=u.elapsedTime+=e;const n=o.fromValues[l],i=null!=u.v0?u.v0:u.v0=r.s.arr(s.velocity)?s.velocity[l]:s.velocity;let a;if(r.s.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);p=n+i/(1-e)*(1-r),h=Math.abs(u.lastPosition-p)<.1,a=i*r}else{a=null==u.lastVelocity?i:u.lastVelocity;const t=s.precision||(n==d?.005:Math.min(1,.001*Math.abs(d-n))),o=s.restVelocity||t/10,c=s.clamp?0:s.bounce,l=!r.s.und(c),f=n==d?u.v0>0:n<d;let m,g=!1;const v=1,b=Math.ceil(e/v);for(let e=0;e<b&&(m=Math.abs(a)>o,m||(h=Math.abs(d-p)<=t,!h));++e){l&&(g=p==d||p>d==f,g&&(a=-a*c,p=d));a+=(1e-6*-s.tension*(p-d)+.001*-s.friction*a)/s.mass*v,p+=a*v}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,t=u.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,u.durationProgress=r),p=n+s.easing(r)*(d-n),a=(p-u.lastPosition)/e,h=1==r}u.lastVelocity=a,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}c&&!c[l].done&&(h=!1),h?u.done=!0:t=!1,u.setValue(p,s.round)&&(n=!0)});const u=Object(i.d)(this),l=u.getValue();if(t){const e=Object(r.q)(o.to);l===e&&!n||s.decay?n&&s.decay&&this._onChange(l):(u.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return r.w.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(G(this)){const{to:e,config:t}=this.animation;r.w.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return r.s.und(e)?(n=this.queue||[],this.queue=[]):n=[r.s.obj(e)?e:s({},t,{to:e})],Promise.all(n.map(e=>this._update(e))).then(e=>T(this,e))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),R(this._state,e&&this._lastCallId),r.w.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:o}=e;n=r.s.obj(n)?n[t]:n,(null==n||b(n))&&(n=void 0),o=r.s.obj(o)?o[t]:o,null==o&&(o=void 0);const s={to:n,from:o};return B(this)||(e.reverse&&([n,o]=[o,n]),o=Object(r.q)(o),r.s.und(o)?Object(i.d)(this)||this._set(n):this._set(o)),s}_update(e,t){let n=s({},e);const{key:o,defaultProps:i}=this;n.default&&Object.assign(i,h(n,(e,t)=>/^on/.test(t)?u(e,o):e)),Q(this,n,"onProps"),$(this,"onProps",n,this);const a=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return I(++this._lastCallId,{key:o,props:n,defaultProps:i,state:c,actions:{pause:()=>{U(this)||(W(this,!0),Object(r.n)(c.pauseQueue),$(this,"onPause",k(this,J(this,this.animation.to)),this))},resume:()=>{U(this)&&(W(this,!1),G(this)&&this._resume(),Object(r.n)(c.resumeQueue),$(this,"onResume",k(this,J(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=q(n);if(e)return this._update(e,!0)}return e})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(A(this));const o=!r.s.und(e.to),u=!r.s.und(e.from);if(o||u){if(!(t.callId>this._lastToId))return n(A(this));this._lastToId=t.callId}const{key:l,defaultProps:d,animation:h}=this,{to:p,from:f}=h;let{to:m=p,from:v=f}=e;!u||o||t.default&&!r.s.und(m)||(m=v),t.reverse&&([m,v]=[v,m]);const y=!Object(r.u)(v,f);y&&(h.from=v),v=Object(r.q)(v);const O=!Object(r.u)(m,p);O&&this._focus(m);const j=b(t.to),{config:_}=h,{decay:E,velocity:I}=_;(o||u)&&(_.velocity=0),t.config&&!j&&function(e,t,n){n&&(x(n=s({},n),t),t=s({},n,t)),x(e,t),Object.assign(e,t);for(const r in w)null==e[r]&&(e[r]=w[r]);let{mass:o,frequency:i,damping:a}=e;r.s.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(_,a(t.config,l),t.config!==d.config?a(d.config,l):void 0);let T=Object(i.d)(this);if(!T||r.s.und(m))return n(k(this,!0));const R=r.s.und(t.reset)?u&&!t.default:!r.s.und(v)&&c(t.reset,l),C=R?v:this.get(),S=g(m),L=r.s.num(S)||r.s.arr(S)||Object(r.t)(S),M=!j&&(!L||c(d.immediate||t.immediate,l));if(O){const e=Object(i.e)(m);if(e!==T.constructor){if(!M)throw Error(`Cannot animate between ${T.constructor.name} and ${e.name}, as the "to" prop suggests`);T=this._set(S)}}const D=T.constructor;let F=Object(r.r)(m),U=!1;if(!F){const e=R||!B(this)&&y;(O||e)&&(U=Object(r.u)(g(C),S),F=!U),(Object(r.u)(h.immediate,M)||M)&&Object(r.u)(_.decay,E)&&Object(r.u)(_.velocity,I)||(F=!0)}if(U&&G(this)&&(h.changed&&!R?F=!0:F||this._stop(p)),!j&&((F||Object(r.r)(p))&&(h.values=T.getPayload(),h.toValues=Object(r.r)(m)?null:D==i.a?[1]:Object(r.y)(S)),h.immediate!=M&&(h.immediate=M,M||R||this._set(p)),F)){const{onRest:e}=h;Object(r.k)(K,e=>Q(this,t,e));const o=k(this,J(this,p));Object(r.n)(this._pendingCalls,o),this._pendingCalls.add(n),h.changed&&r.w.batchedUpdates(()=>{h.changed=!R,null==e||e(o,this),R?a(d.onRest,o):null==h.onStart||h.onStart(o,this)})}R&&this._set(C),j?n(N(t.to,t,this._state,this)):F?this._start():G(this)&&!O?this._pendingCalls.add(n):n(P(C))}_focus(e){const t=this.animation;e!==t.to&&(Object(r.p)(this)&&this._detach(),t.to=e,Object(r.p)(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Object(r.r)(t)&&(Object(r.c)(t,this),L(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Object(r.r)(e)&&Object(r.x)(e,this)}_set(e,t=!0){const n=Object(r.q)(e);if(!r.s.und(n)){const e=Object(i.d)(this);if(!e||!Object(r.u)(n,e.getValue())){const o=Object(i.e)(n);e&&e.constructor==o?e.setValue(n):Object(i.g)(this,o.create(n)),e&&r.w.batchedUpdates(()=>{this._onChange(n,t)})}}return Object(i.d)(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,$(this,"onStart",k(this,J(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),a(this.animation.onChange,e,this)),a(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Object(i.d)(this).reset(Object(r.q)(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),G(this)||(V(this,!0),U(this)||this._resume())}_resume(){r.b.skipAnimation?this.finish():r.o.start(this)}_stop(e,t){if(G(this)){V(this,!1);const n=this.animation;Object(r.k)(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(r.d)(this,{type:"idle",parent:this});const o=t?A(this.get()):k(this.get(),J(this,null!=e?e:n.to));Object(r.n)(this._pendingCalls,o),n.changed&&(n.changed=!1,$(this,"onRest",o,this))}}}function J(e,t){const n=g(t),o=g(e.get());return Object(r.u)(o,n)}function q(e,t=e.loop,n=e.to){let r=a(t);if(r){const o=!0!==r&&m(r),i=(o||e).reverse,a=!o||o.reset;return X(s({},e,{loop:t,default:!1,pause:void 0,to:!i||b(n)?n:void 0,from:a?e.from:void 0,reset:a},o))}}function X(e){const{to:t,from:n}=e=m(e),o=new Set;return r.s.obj(t)&&Y(t,o),r.s.obj(n)&&Y(n,o),e.keys=o.size?Array.from(o):null,e}function H(e){const t=X(e);return r.s.und(t.default)&&(t.default=h(t)),t}function Y(e,t){Object(r.l)(e,(e,n)=>null!=e&&t.add(n))}const K=["onStart","onRest","onChange","onPause","onResume"];function Q(e,t,n){e.animation[n]=t[n]!==l(t,n)?u(t[n],e.key):void 0}function $(e,t,...n){var r,o,i,s;null==(r=(o=e.animation)[t])||r.call(o,...n),null==(i=(s=e.defaultProps)[t])||i.call(s,...n)}const Z=["onStart","onChange","onRest"];let ee=1;class te{constructor(e,t){this.id=ee++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(s({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];r.s.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(X(e)),this}start(e){let{queue:t}=this;return e?t=Object(r.y)(e).map(X):this.queue=[],this._flush?this._flush(this,t):(ae(this,t),ne(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Object(r.k)(Object(r.y)(t),t=>n[t].stop(!!e))}else R(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(r.s.und(e))this.start({pause:!0});else{const t=this.springs;Object(r.k)(Object(r.y)(e),e=>t[e].pause())}return this}resume(e){if(r.s.und(e))this.start({pause:!1});else{const t=this.springs;Object(r.k)(Object(r.y)(e),e=>t[e].resume())}return this}each(e){Object(r.l)(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,o=this._active.size>0,i=this._changed.size>0;(o&&!this._started||i&&!this._started)&&(this._started=!0,Object(r.m)(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));const s=!o&&this._started,a=i||s&&n.size?this.get():null;i&&t.size&&Object(r.m)(t,([e,t])=>{t.value=a,e(t,this,this._item)}),s&&(this._started=!1,Object(r.m)(n,([e,t])=>{t.value=a,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}r.w.onFrame(this._onFrame)}}function ne(e,t){return Promise.all(t.map(t=>async function e(t,n,o){const{keys:i,to:s,from:a,loop:c,onRest:u,onResolve:d}=n,h=r.s.obj(n.default)&&n.default;c&&(n.loop=!1);!1===s&&(n.to=null);!1===a&&(n.from=null);const p=r.s.arr(s)||r.s.fun(s)?s:void 0;p?(n.to=void 0,n.onRest=void 0,h&&(h.onRest=void 0)):Object(r.k)(Z,e=>{const o=n[e];if(r.s.fun(o)){const r=t._events[e];n[e]=({finished:e,cancelled:t})=>{const n=r.get(o);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):r.set(o,{value:null,finished:e||!1,cancelled:t||!1})},h&&(h[e]=n[e])}});const f=t._state;n.pause===!f.paused?(f.paused=n.pause,Object(r.n)(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0);const m=(i||Object.keys(t.springs)).map(e=>t.springs[e].start(n)),g=!0===n.cancel||!0===l(n,"cancel");(p||g&&f.asyncId)&&m.push(I(++t._lastAsyncId,{props:n,state:f,actions:{pause:r.v,resume:r.v,start(e,n){g?(R(f,t._lastAsyncId),n(A(t))):(e.onRest=u,n(N(p,e,f,t)))}}}));f.paused&&await new Promise(e=>{f.resumeQueue.add(e)});const v=T(t,await Promise.all(m));if(c&&v.finished&&(!o||!v.noop)){const r=q(n,c,s);if(r)return ae(t,[r]),e(t,r,!0)}d&&r.w.batchedUpdates(()=>d(v,t,t.item));return v}(e,t))).then(t=>T(e,t))}function re(e,t){const n=s({},e.springs);return t&&Object(r.k)(Object(r.y)(t),e=>{r.s.und(e.keys)&&(e=X(e)),r.s.obj(e.to)||(e=s({},e,{to:void 0})),se(n,e,e=>ie(e))}),oe(e,n),n}function oe(e,t){Object(r.l)(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,Object(r.c)(t,e))})}function ie(e,t){const n=new z;return n.key=e,t&&Object(r.c)(n,t),n}function se(e,t,n){t.keys&&Object(r.k)(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function ae(e,t){Object(r.k)(t,t=>{se(e.springs,t,t=>ie(t,e))})}function ce(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const ue=["children"],le=e=>{let{children:t}=e,n=ce(e,ue);const i=Object(o.useContext)(de),s=n.pause||!!i.pause,a=n.immediate||!!i.immediate;n=Object(r.B)(()=>({pause:s,immediate:a}),[s,a]);const{Provider:c}=de;return o.createElement(c,{value:n},t)},de=(he=le,pe={},Object.assign(he,o.createContext(pe)),he.Provider._context=he,he.Consumer._context=he,he);var he,pe;le.Provider=de.Provider,le.Consumer=de.Consumer;const fe=()=>{const e=[],t=function(t){Object(r.i)();const o=[];return Object(r.k)(e,(e,i)=>{if(r.s.und(t))o.push(e.start());else{const r=n(t,e,i);r&&o.push(e.start(r))}}),o};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Object(r.k)(e,e=>e.pause(...arguments)),this},t.resume=function(){return Object(r.k)(e,e=>e.resume(...arguments)),this},t.set=function(t){Object(r.k)(e,e=>e.set(t))},t.start=function(t){const n=[];return Object(r.k)(e,(e,o)=>{if(r.s.und(t))n.push(e.start());else{const r=this._getProps(t,e,o);r&&n.push(e.start(r))}}),n},t.stop=function(){return Object(r.k)(e,e=>e.stop(...arguments)),this},t.update=function(t){return Object(r.k)(e,(e,n)=>e.update(this._getProps(t,e,n))),this};const n=function(e,t,n){return r.s.fun(e)?e(n,t):e};return t._getProps=n,t};function me(e,t,n){const i=r.s.fun(t)&&t;i&&!n&&(n=[]);const a=Object(o.useMemo)(()=>i||3==arguments.length?fe():void 0,[]),c=Object(o.useRef)(0),u=Object(r.z)(),l=Object(o.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){const n=re(e,t);return c.current>0&&!l.queue.length&&!Object.keys(n).some(t=>!e.springs[t])?ne(e,t):new Promise(r=>{oe(e,n),l.queue.push(()=>{r(ne(e,t))}),u()})}}),[]),d=Object(o.useRef)([...l.ctrls]),h=[],p=Object(r.D)(e)||0,f=d.current.slice(e,p);function m(e,n){for(let r=e;r<n;r++){const e=d.current[r]||(d.current[r]=new te(null,l.flush)),n=i?i(r,e):t[r];n&&(h[r]=H(n))}}Object(o.useMemo)(()=>{d.current.length=e,m(p,e)},[e]),Object(o.useMemo)(()=>{m(0,Math.min(p,e))},n);const g=d.current.map((e,t)=>re(e,h[t])),b=Object(o.useContext)(le),w=Object(r.D)(b),j=b!==w&&v(b);Object(r.A)(()=>{c.current++,l.ctrls=d.current;const{queue:e}=l;e.length&&(l.queue=[],Object(r.k)(e,e=>e())),Object(r.k)(f,e=>{y(e,a),e.stop(!0)}),Object(r.k)(d.current,(e,t)=>{null==a||a.add(e),j&&e.start({default:b});const n=h[t];n&&(O(e,n.ref),e.ref?e.queue.push(n):e.start(n))})}),Object(r.C)(()=>()=>{Object(r.k)(l.ctrls,e=>e.stop(!0))});const x=g.map(e=>s({},e));return a?[x,a]:x}function ge(e,t){const n=r.s.fun(e),[[o],i]=me(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[o,i]:o}let ve;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(ve||(ve={}));class be extends D{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Object(r.f)(...t);const n=this._get(),o=Object(i.e)(n);Object(i.g)(this,o.create(n))}advance(e){const t=this._get(),n=this.get();Object(r.u)(t,n)||(Object(i.d)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Oe(this._active)&&we(this)}_get(){const e=r.s.arr(this.source)?this.source.map(r.q):Object(r.y)(Object(r.q)(this.source));return this.calc(...e)}_start(){this.idle&&!Oe(this._active)&&(this.idle=!1,Object(r.k)(Object(i.f)(this),e=>{e.done=!1}),r.b.skipAnimation?(r.w.batchedUpdates(()=>this.advance()),we(this)):r.o.start(this))}_attach(){let e=1;Object(r.k)(Object(r.y)(this.source),t=>{Object(r.r)(t)&&Object(r.c)(t,this),L(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Object(r.k)(Object(r.y)(this.source),e=>{Object(r.r)(e)&&Object(r.x)(e,this)}),this._active.clear(),we(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Object(r.y)(this.source).reduce((e,t)=>Math.max(e,(L(t)?t.priority:0)+1),0))}}function ye(e){return!1!==e.idle}function Oe(e){return!e.size||Array.from(e).every(ye)}function we(e){e.idle||(e.idle=!0,Object(r.k)(Object(i.f)(e),e=>{e.done=!0}),Object(r.d)(e,{type:"idle",parent:e}))}r.b.assign({createStringInterpolator:r.g,to:(e,t)=>new be(e,t)});r.o.advance},nEW0:function(e,t,n){"use strict";n.d(t,"w",(function(){return o})),n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return Oe})),n.d(t,"d",(function(){return ve})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return le})),n.d(t,"g",(function(){return Pe})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return Se})),n.d(t,"j",(function(){return Re})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return U})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return me})),n.d(t,"r",(function(){return fe})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return Le})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return j})),n.d(t,"x",(function(){return we})),n.d(t,"y",(function(){return P})),n.d(t,"z",(function(){return Fe})),n.d(t,"A",(function(){return Ve})),n.d(t,"B",(function(){return Ge})),n.d(t,"C",(function(){return Me})),n.d(t,"D",(function(){return Ue}));let r=b();const o=e=>f(e,r);let i=b();o.write=e=>f(e,i);let s=b();o.onStart=e=>f(e,s);let a=b();o.onFrame=e=>f(e,a);let c=b();o.onFinish=e=>f(e,c);let u=[];o.setTimeout=(e,t)=>{let n=o.now()+t,r=()=>{let e=u.findIndex(e=>e.cancel==r);~e&&u.splice(e,1),O.count-=~e?1:0},i={time:n,handler:e,cancel:r};return u.splice(l(n),0,i),O.count+=1,m(),i};let l=e=>~(~u.findIndex(t=>t.time>e)||~u.length);o.cancel=e=>{r.delete(e),i.delete(e)},o.sync=e=>{p=!0,o.batchedUpdates(e),p=!1},o.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,o.onStart(n)}return r.handler=e,r.cancel=()=>{s.delete(n),t=null},r};let d="undefined"!=typeof window?window.requestAnimationFrame:()=>{};o.use=e=>d=e,o.now="undefined"!=typeof performance?()=>performance.now():Date.now,o.batchedUpdates=e=>e(),o.catch=console.error,o.frameLoop="always",o.advance=()=>{"demand"!==o.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):v()};let h=-1,p=!1;function f(e,t){p?(t.delete(e),e(0)):(t.add(e),m())}function m(){h<0&&(h=0,"demand"!==o.frameLoop&&d(g))}function g(){~h&&(d(g),o.batchedUpdates(v))}function v(){let e=h;h=o.now();let t=l(h);t&&(y(u.splice(0,t),e=>e.handler()),O.count-=t),s.flush(),r.flush(e?Math.min(64,h-e):16.667),a.flush(),i.flush(),c.flush()}function b(){let e=new Set,t=e;return{add(n){O.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(O.count-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,O.count-=t.size,y(t,t=>t(n)&&e.add(t)),O.count+=e.size,t=e)}}}function y(e,t){e.forEach(e=>{try{t(e)}catch(n){o.catch(n)}})}const O={count:0,clear(){h=-1,u=[],s=b(),r=b(),a=b(),i=b(),c=b(),O.count=0}};var w=n("q1tI");function j(){}const x=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),_={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function E(e,t){if(_.arr(e)){if(!_.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const I=(e,t)=>e.forEach(t);function T(e,t,n){for(const r in e)t.call(n,e[r],r)}const P=e=>_.und(e)?[]:_.arr(e)?e:[e];function k(e,t){if(e.size){const n=Array.from(e);e.clear(),I(n,t)}}const A=(e,...t)=>k(e,e=>e(...t));let N,R,C=null,S=!1,L=j;var M=Object.freeze({__proto__:null,get createStringInterpolator(){return N},get to(){return R},get colors(){return C},get skipAnimation(){return S},get willAdvance(){return L},assign:e=>{e.to&&(R=e.to),e.now&&(o.now=e.now),void 0!==e.colors&&(C=e.colors),null!=e.skipAnimation&&(S=e.skipAnimation),e.createStringInterpolator&&(N=e.createStringInterpolator),e.requestAnimationFrame&&o.use(e.requestAnimationFrame),e.batchedUpdates&&(o.batchedUpdates=e.batchedUpdates),e.willAdvance&&(L=e.willAdvance),e.frameLoop&&(o.frameLoop=e.frameLoop)}});const D=new Set;let F=[],B=[],G=0;const U={get idle(){return!D.size&&!F.length},start(e){G>e.priority?(D.add(e),o.onStart(V)):(W(e),o(J))},advance:J,sort(e){if(G)o.onFrame(()=>U.sort(e));else{const t=F.indexOf(e);~t&&(F.splice(t,1),z(e))}},clear(){F=[],D.clear()}};function V(){D.forEach(W),D.clear(),o(J)}function W(e){F.includes(e)||z(e)}function z(e){F.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(F,t=>t.priority>e.priority),0,e)}function J(e){const t=B;for(let n=0;n<F.length;n++){const r=F[n];G=r.priority,r.idle||(L(r),r.advance(e),r.idle||t.push(r))}return G=0,B=F,B.length=0,F=t,F.length>0}const q={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},X="[-+]?\\d*\\.?\\d+";function H(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const Y=new RegExp("rgb"+H(X,X,X)),K=new RegExp("rgba"+H(X,X,X,X)),Q=new RegExp("hsl"+H(X,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),$=new RegExp("hsla"+H(X,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",X)),Z=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ee=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,te=/^#([0-9a-fA-F]{6})$/,ne=/^#([0-9a-fA-F]{8})$/;function re(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oe(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,i=re(o,r,e+1/3),s=re(o,r,e),a=re(o,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*s)<<16|Math.round(255*a)<<8}function ie(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function se(e){return(parseFloat(e)%360+360)%360/360}function ae(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ce(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ue(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=te.exec(e))?parseInt(t[1]+"ff",16)>>>0:C&&void 0!==C[e]?C[e]:(t=Y.exec(e))?(ie(t[1])<<24|ie(t[2])<<16|ie(t[3])<<8|255)>>>0:(t=K.exec(e))?(ie(t[1])<<24|ie(t[2])<<16|ie(t[3])<<8|ae(t[4]))>>>0:(t=Z.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ne.exec(e))?parseInt(t[1],16)>>>0:(t=ee.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Q.exec(e))?(255|oe(se(t[1]),ce(t[2]),ce(t[3])))>>>0:(t=$.exec(e))?(oe(se(t[1]),ce(t[2]),ce(t[3]))|ae(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const le=(e,t,n)=>{if(_.fun(e))return e;if(_.arr(e))return le({range:e,output:t,extrapolate:n});if(_.str(e.output[0]))return N(e);const r=e,o=r.output,i=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,o,i,s,a,c){let u=c?c(e):e;if(u<t){if("identity"===s)return u;"clamp"===s&&(u=t)}if(u>n){if("identity"===a)return u;"clamp"===a&&(u=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=i(u),r===-1/0?u=-u:o===1/0?u+=r:u=u*(o-r)+r;return u}(e,i[t],i[t+1],o[t],o[t+1],c,s,a,r.map)}};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const he=Symbol.for("FluidValue.get"),pe=Symbol.for("FluidValue.observers"),fe=e=>Boolean(e&&e[he]),me=e=>e&&e[he]?e[he]():e,ge=e=>e[pe]||null;function ve(e,t){let n=e[pe];n&&n.forEach(e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)})}class be{constructor(e){if(this[he]=void 0,this[pe]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");ye(this,e)}}const ye=(e,t)=>je(e,he,t);function Oe(e,t){if(e[he]){let n=e[pe];n||je(e,pe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function we(e,t){let n=e[pe];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[pe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const je=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),xe=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;let Ee;const Ie=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Te=(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,Pe=e=>{Ee||(Ee=C?new RegExp(`(${Object.keys(C).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(e=>me(e).replace(_e,ue).replace(Ee,ue)),n=t.map(e=>e.match(xe).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>le(de({},e,{output:t})));return e=>{let n=0;return t[0].replace(xe,()=>String(r[n++](e))).replace(Ie,Te)}},ke="react-spring: ",Ae=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(ke+"once requires a function parameter");return(...e)=>{n||(t(...e),n=!0)}},Ne=Ae(console.warn);function Re(){Ne(ke+'The "interpolate" function is deprecated in v9 (use "to" instead)')}const Ce=Ae(console.warn);function Se(){Ce(ke+'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions')}function Le(e){return _.str(e)&&("#"==e[0]||/\d/.test(e)||e in(C||{}))}const Me=e=>Object(w.useEffect)(e,De),De=[];function Fe(){const e=Object(w.useState)()[1],t=Object(w.useState)(Be)[0];return Me(t.unmount),()=>{t.current&&e({})}}function Be(){const e={current:!0,unmount:()=>()=>{e.current=!1}};return e}function Ge(e,t){const[n]=Object(w.useState)(()=>({inputs:t,result:e()})),r=Object(w.useRef)(),o=r.current;let i=o;if(i){Boolean(t&&i.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.inputs))||(i={inputs:t,result:e()})}else i=n;return Object(w.useEffect)(()=>{r.current=i,o==n&&(n.inputs=n.result=void 0)},[i]),i.result}function Ue(e){const t=Object(w.useRef)();return Object(w.useEffect)(()=>{t.current=e}),t.current}const Ve="undefined"!==typeof window&&window.document&&window.document.createElement?w.useLayoutEffect:w.useEffect},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},rrRK:function(e,t,n){"use strict";e.exports={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2}},u47H:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books",function(){return n("5AOK")}])},v8Ku:function(e,t){}},[["u47H",0,1,10,9,12,2,3,4,6,7,8]]]);